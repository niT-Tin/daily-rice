# ä¸€äº›å…³äºå®‰è£…é…ç½® Linux å‘½ä»¤è¡Œçš„é—®é¢˜è®°å½•

* [å¯åŠ¨é…ç½®é—®é¢˜](#å¯åŠ¨é…ç½®é—®é¢˜)
    * [é‡æ„å¯åŠ¨æ–‡ä»¶](#é‡æ„å¯åŠ¨æ–‡ä»¶)
* [å‘½ä»¤è¡Œé—®é¢˜](#å‘½ä»¤è¡Œé—®é¢˜)
    * [å¯èƒ½è¦å®‰è£…çš„è½¯ä»¶(æš‚ä¸”è®°å¾—è¿™äº›)](#å¯èƒ½è¦å®‰è£…çš„è½¯ä»¶æš‚ä¸”è®°å¾—è¿™äº›)
    * [å®‰è£…é—®é¢˜](#å®‰è£…é—®é¢˜)
* [è¿œç¨‹æœåŠ¡å™¨sshé…ç½®](#è¿œç¨‹æœåŠ¡å™¨sshé…ç½®)
    * [é…ç½®åå‘ä»£ç†](#é…ç½®åå‘ä»£ç†)
* [å­—ä½“é…ç½®](#å­—ä½“é…ç½®)
* [æ˜¾å¡é…ç½®](#æ˜¾å¡é…ç½®)
* [ä¸‹è½½è½¯ä»¶æœ¬åœ°å®‰è£…éªŒè¯(ä»¥emacsä¸ºä¾‹)](#ä¸‹è½½è½¯ä»¶æœ¬åœ°å®‰è£…éªŒè¯ä»¥emacsä¸ºä¾‹)
* [Linuxè™šæ‹Ÿæœºä¸å®¿ä¸»æœºå…±äº«ç›®å½•é…ç½®](#linuxè™šæ‹Ÿæœºä¸å®¿ä¸»æœºå…±äº«ç›®å½•é…ç½®)
* [å¯¹äºneovideä¸lunarvimçš„ç»“åˆæ“ä½œ](#å¯¹äºneovideä¸lunarvimçš„ç»“åˆæ“ä½œ)
* [å®‰è£…å­—ä½“](#å®‰è£…å­—ä½“)
* [è·å¾—å­—ä½“ç›¸å…³å›¾æ ‡](#è·å¾—å­—ä½“ç›¸å…³å›¾æ ‡)
* [jonaburg/picom](#jonaburgpicom)
* [glibc](#glibc)
* [ç»ˆç«¯é¢œè‰²ä½¿ç”¨](#ç»ˆç«¯é¢œè‰²ä½¿ç”¨)
* [tmux æ—¥å¸¸å·¥ä½œæµå¿«æ·é”®](#tmux-æ—¥å¸¸å·¥ä½œæµå¿«æ·é”®)
* [GRUB hidden](#grub-hidden)
* [ArchLinuxï¼Œä½¿ç”¨pacmanåŒ…ç®¡ç†å·¥å…·å¿½ç•¥æŸäº›åŒ…çš„å®‰è£…æˆ–å‡çº§](#archlinuxä½¿ç”¨pacmanåŒ…ç®¡ç†å·¥å…·å¿½ç•¥æŸäº›åŒ…çš„å®‰è£…æˆ–å‡çº§)
* [å®‰è£…TensorRTé‡åˆ°çš„é—®é¢˜](#å®‰è£…tensorrté‡åˆ°çš„é—®é¢˜)
* [Linuxæ—¶é—´åŒæ­¥ç¬”è®°](#linuxæ—¶é—´åŒæ­¥ç¬”è®°)
* [ä½¿ç”¨å‘½ä»¤è¡Œæ¥ä½¿ç”¨ä¸åŒtty](#ä½¿ç”¨å‘½ä»¤è¡Œæ¥ä½¿ç”¨ä¸åŒtty)
* [æ›´æ–°å†…æ ¸è‡´ä½¿nvidiaæ˜¾å¡æ— æ³•ä½¿ç”¨çš„é—®é¢˜](#æ›´æ–°å†…æ ¸è‡´ä½¿nvidiaæ˜¾å¡æ— æ³•ä½¿ç”¨çš„é—®é¢˜)
* [vmware workstation æ¨¡å—å®‰è£…é—®é¢˜](#vmware-workstation-æ¨¡å—å®‰è£…é—®é¢˜)
* [bash, zshåœ¨æ›´æ–°ç³»ç»Ÿä¹‹åï¼Œå‘½ä»¤å‰æ·»åŠ `sudo`å‰ç¼€`<tab>`æ— æ³•è¡¥å…¨çš„é—®é¢˜](#bash-zshåœ¨æ›´æ–°ç³»ç»Ÿä¹‹åå‘½ä»¤å‰æ·»åŠ sudoå‰ç¼€tabæ— æ³•è¡¥å…¨çš„é—®é¢˜)
* [bluetooth](#bluetooth)

> é˜²æ­¢æˆ‘å“ªå¤©å¤±å¿†ï¼Œå› æ­¤å†™ä¸‹è¿™ä¸ªæé†’æ–‡ä»¶ â€”â€” lazyhippo

å“¦ï¼Œå¯¹äº†è¿™ä¸ªæ–‡æ¡£è®°å½•æœ‰äº›æ˜¯æ ¹æ® Ubuntu20.04 æ¥è®°å½•çš„(å› ä¸ºå¼€å§‹è®°å½•çš„æ—¶å€™åœ¨ä½¿ç”¨ Ubuntu)ï¼Œä½†æ˜¯ç›®å‰ä¸€ç›´åœ¨ä½¿ç”¨ EndeaourOS(åŸºäº arch çš„ä¸€ä¸ª Linux å‘è¡Œç‰ˆ), æ‰€ä»¥å¤±å¿†ä¹‹åçš„è¯è¿˜æƒ³ç”¨ Linux å°±æš‚æ—¶å…ˆç”¨ Ubuntu,ä¹Ÿå¯ä»¥è‡ªå·±æ…¢æ…¢å°è¯•åœ¨ arch ä¸Šé…ç½®ç›¸å…³è½¯ä»¶ã€‚

## å¯åŠ¨é…ç½®é—®é¢˜

### é‡æ„å¯åŠ¨æ–‡ä»¶

å› ä¸ºæœºå­æœ¬èº«æ˜¯åŒç¡¬ç›˜ï¼ŒåŒç³»ç»Ÿï¼Œç³»ç»Ÿå‡çº§å¶å°”ä¼šé‡è§å¯åŠ¨é¡¹ç›¸å…³é—®é¢˜ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹

> æœ‰è¿™ä¹ˆä¸ªäº‹æƒ…ï¼ŒåŸå…ˆæˆ‘è‡ªå·±å®‰è£…çš„ Windows11 ä¸ºé¢„è§ˆç‰ˆæœ¬,æŒºå¤š bug ä¹Ÿç”¨çš„ä¸èˆ’æœ,æœ€è¿‘å¿ä¸äº†äº†
> åŒç³»ç»Ÿä¸ªäººç›®å‰ç»éªŒ(åŸºäºæˆ‘ç›®å‰é…ç½®åŒç¡¬ç›˜ï¼Œæ¯ä¸ªç›˜åˆ†åˆ«å®‰è£… Windows11 å’Œ Linux[è‡³äºå‘è¡Œç‰ˆçš„è¯æˆ‘ç”¨äº†ç›¸å½“å¤šï¼Œç›®å‰è¿˜æ˜¯åœ¨ä½¿ç”¨ EndeaourOS linux])

- å…ˆå®‰è£… Windows

**_ä»¥ä¸‹ä¸ºä¹‹å‰è®°å½•ï¼Œå¦‚æœ grub æ„å»ºå¤±è´¥æ‰é‡å»ºå¼•å¯¼ o ï½ï¼Œè¿˜æœ‰ arch(æœ‰å®‰è£…è„šæœ¬)ï¼Œ gentoo, ç­‰å‘è¡Œç‰ˆæå°±å¾—ä¸€ä¸ªå‘½ä»¤ä¸€ä¸ªå‘½ä»¤æ…¢æ…¢æ¥, ä½†æ˜¯æ–‡æ¡£é½å…¨ï¼Œæ¶ˆè€—æ—¶é—´æ, é—®é¢˜ä¸å¤§_**

- å†å®‰è£… Linux (ä¸¤ä¸ªç³»ç»Ÿåˆ†åˆ«é€‰æ‹©ä¸¤ä¸ªç›˜)

  - ç£ç›˜åˆ†åŒº(ä¸ªäººè®¾ç½®)
    | æŒ‚è½½ç‚¹   | åˆ†åŒºç±»å‹ | åˆ†åŒºå¤§å°           |
    | ------   | -------- | --------           |
    | /        | ext4     | 80G                |
    | /home    | ext4     | 330G               |
    | äº¤æ¢åˆ†åŒº | swap     | 18G                |
    | EFI åˆ†åŒº | EFI      | 2G(å±å®æœ‰ç‚¹å¤ªå¤§äº†) |

    **_è¿™ä¸ªåˆ†åŒºæ“ä½œæŒºæ—©çš„äº†ï¼Œç°åœ¨éº»æœ¨äº†ï¼Œç¡¬ç›˜å¤§å°ä¹Ÿæ¯”è¿™ä¸ªå¤§ï¼Œæ‰€ä»¥éšæ„å°±è¡Œ_**
    ç°åœ¨Ubuntu æœ‰äº†ä¸ª`Reserved bios boot area` ç”¨äºè§£é™¤ä¸¥æ ¼é™åˆ¶çš„Lagacy BIOSå’ŒUEFI,è¿™ä¸ª `Reserved bios boot area` åˆ†åŒºè¦åœ¨ /boot(Lagacy BIOS) æˆ–è€… UEFI åˆ†åŒºä¹‹å‰(1MBå³å¯)
    å³ `Reserved bios boot area` + EFI æˆ–è€… `Reserved bios boot area` + /boot çš„ç»„åˆã€‚

    å®‰è£…æ—¶æ³¨æ„å°†ç³»ç»Ÿå¯åŠ¨é€‰æ‹©å®‰è£…åœ¨ EFI å¯¹åº”çš„åˆ†åŒº, è¿˜æœ‰ swap å’Œ EFI å…¶å®å¯ä»¥ä¸ç”¨è¿™ä¹ˆå¤§ï¼Œæˆ‘æ˜¯å› ä¸ºæˆ‘çš„å†…å­˜æ¯”è¾ƒå¤§æ‰€ä»¥è¿™ä¹ˆè®¾ç½® swap,EFI çš„è¯å…¶å® 300-500 å°±è¡Œï¼Œä½†æ˜¯æï¼Œæˆ‘ä½¿ç”¨è¿‡ PopOS,å®ƒæ˜¯å¼ºåˆ¶è¦æ±‚ EFI åˆ†åŒºå¤§äº 1 ä¸ª G çš„ï¼Œæ‰€ä»¥æˆ‘å¹²è„†å…¨éƒ¨è®¾ç½®å¤§ä¸€äº›ã€‚

  - é‡å»º grub å¼•å¯¼(è¿™ä¸ªä¸€èˆ¬å‡ºäº‹ä¹‹åå†ä½¿ç”¨å§)
    å®‰è£…å®Œæˆä¹‹åé‡å¯ï¼Œé‡å¯è¿›å…¥ u ç›˜å®‰è£…ç•Œé¢ï¼Œé€‰æ‹©å°è¯•ä½¿ç”¨ Ubuntuï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤é‡å»º grub

    ```bash
    sudo fdisk -l # æŸ¥çœ‹åˆ†åŒºä¿¡æ¯
    sudo mount Ubuntuç³»ç»Ÿæ‰€åœ¨åˆ†åŒº(å°±æ˜¯ä¸€å¼€å§‹çš„æ›´ç›®å½•æŒ‚è½½çš„åˆ†åŒº) /mnt
    sudo mount EFIåˆ†åŒº /mnt/boot/efi
    for i in /dev /dev/pts /proc /sys /run; do sudo mount -B $i /mnt$i; done
    sudo chroot /mnt
    grub-install Ubuntuæ‰€åœ¨çš„ç›˜(æ³¨æ„è¿™ä¸ªæ˜¯æ•´ä¸ªç›˜ï¼Œåå­—è¦å»æ‰åˆ†åŒºçš„éƒ¨åˆ†)
    update-grub
    ```

    ä¹‹åé‡å¯ï¼Œæ¯æ¬¡è¿›å…¥ç³»ç»Ÿé€‰æ‹©ä¸åŒçš„ç›˜å¯åŠ¨å³å¯

## å‘½ä»¤è¡Œé—®é¢˜

### å¯èƒ½è¦å®‰è£…çš„è½¯ä»¶(æš‚ä¸”è®°å¾—è¿™äº›)

| è½¯ä»¶åç§°                                                      | æè¿°                                                                      |
| ------------------------------------------------------------- | ------------------------------------------------------------------------- |
| v2ray2                                                        | é…ç½®ç³»ç»Ÿä»£ç†                                                              |
| zsh                                                           | shell                                                                     |
| fish                                                          | shell                                                                     |
| oh my zsh                                                     | ç¾åŒ– zsh                                                                  |
| zsh-autosuggestions                                           | zsh æç¤ºæ’ä»¶                                                              |
| tmux                                                          | ç»ˆç«¯å¤ç”¨                                                                  |
| oh my tmux                                                    | ç¾åŒ– tmux                                                                 |
| git                                                           | ç‰ˆæœ¬æ§åˆ¶å·¥å…·                                                              |
| build-essential                                               | åŸºç¡€å¼€å‘å·¥å…·(gcc g++ make ç­‰)                                             |
| i3                                                            | çª—å£ç®¡ç†                                                                  |
| xmonad                                                        | çª—å£ç®¡ç†                                                                  |
| qtile                                                         | çª—å£ç®¡ç†                                                                  |
| xmobar                                                        | çª—å£çŠ¶æ€æ¡                                                                |
| i3blocks                                                      | æ¡Œé¢çŠ¶æ€æ é…ç½®å·¥å…·                                                        |
| rofi                                                          | è½¯ä»¶å¯åŠ¨                                                                  |
| thunar                                                        | æ–‡ä»¶ç®¡ç†å™¨                                                                |
| compton                                                       | ç»™ä½ çš„çª—å£ duang ï½å¢åŠ ç‰¹æ•ˆ                                               |
| feh                                                           | æ¡Œé¢å£çº¸                                                                  |
| xrandr                                                        | å¤šæ˜¾ç¤ºå™¨è®¾ç½®                                                              |
| arandr                                                        | å¤šæ˜¾ç¤ºå™¨è®¾ç½®(å›¾å½¢ç•Œé¢)ç”Ÿæˆ xrandr å‘½ä»¤                                    |
| i3-gaps                                                       | ç”¨äºé…ç½®çª—å£è¾¹æ¡†                                                          |
| vim                                                           | æ–‡æœ¬ç¼–è¾‘å™¨                                                                |
| nvim                                                          | æ–‡æœ¬ç¼–è¾‘å™¨                                                                |
| lunarvim                                                      | åŸºäº nvim çš„ä¸€å¥—é…ç½®(ç›®å‰åœ¨ç”¨)                                            |
| stacer                                                        | ç³»ç»Ÿç›‘æ§(æ¯”è¾ƒå–œæ¬¢å®ƒçš„å›¾å½¢åŒ–ç•Œé¢ç®¡ç†ä¸‹è½½æº)                                |
| docker                                                        | å®¹å™¨ç®¡ç†                                                                  |
| nvm                                                           | node ç‰ˆæœ¬ç®¡ç†                                                             |
| Anaconda                                                      | python ç¯å¢ƒç®¡ç†                                                           |
| rpm                                                           | åŒ…ç®¡ç†å·¥å…·                                                                |
| exa/lsd                                                       | ls çš„æ›¿ä»£æ–¹æ¡ˆ                                                             |
| nnn                                                           | å‘½ä»¤è¡Œæ–‡ä»¶ç®¡ç†å·¥å…·                                                        |
| lazygit                                                       | å‘½ä»¤è¡Œ git tui æ“ä½œ                                                       |
| gitui                                                         | å‘½ä»¤è¡Œ git tui æ“ä½œ                                                       |
| zsh-fast-syntax-highlighting                                  | zsh ç»ˆç«¯è¯­æ³•é«˜äº®                                                          |
| zoxide                                                        | æœ‰è®°å¿†çš„ cd å‘½ä»¤                                                          |
| alacritty, st, kitty                                          | ç»ˆç«¯ä»¬(ç›®å‰åœ¨ç”¨ alacritty)                                                |
| vhs                                                           | ç»ˆç«¯è®°å½•                                                                  |
| fd, rg, bat, dust(ç°ä»£ç‰ˆ du), duf(ç°ä»£ç‰ˆ df), tokei(ä»£ç ç»Ÿè®¡) | æ—¥å¸¸å·¥å…·                                                                  |
| grex                                                          | æ­£åˆ™è¡¨è¾¾å¼ç”Ÿæˆ                                                            |
| FSearch                                                       | gtk3å®ç°çš„unix-likeæ–‡ä»¶æœç´¢å·¥å…·(å¾ˆå°‘ç”¨å›¾å½¢ï¼Œæˆ‘ä¸€èˆ¬ç”¨å‘½ä»¤è¡Œï¼Œä½†è¿™ä¸ªä¹Ÿä¸é”™) |

> æ³¨æ„: ä¸ºäº†ä½¿ç”¨æ”¯æŒ ligature è¿™ä¸ªç‰¹æ€§çš„ alacrittyï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªä½ç‰ˆæœ¬çš„folk [alacritty](https://github.com/zenixls2/alacritty/tree/ligature)
> ä¸‹é¢å‘½ä»¤æ„å»º alacritty

```shell
git clone https://github.com/zenixls2/alacritty.git
cd alacritty
git checkout ligature
cargo build --release

# target/release ç›®å½•ä¸‹å¯ä»¥æ‰¾åˆ°alacrittyäºŒè¿›åˆ¶æ–‡ä»¶
```



<center> ä¸‹é¢æ˜¯ä¸€ä¸ª alacritty çš„æˆªå›¾ <center/>

<img src="./images/alacritty.png"/>

> å› ä¸ºä¹‹å‰ç³»ç»Ÿ(Garuda Linux)åº“freetypeçš„é—®é¢˜ï¼Œå¯¼è‡´kittyä¸èƒ½æ­£å¸¸æ˜¾ç¤ºemojiè¡¨æƒ…åŒ…ï¼Œç°åœ¨å·²ç»æ¢æ‰ï¼Œæ”¹æˆendeaourOSã€‚è¯¥é—®é¢˜å·²ç»è§£å†³ï¼Œæ‰€ä»¥ç°åœ¨è¿˜æ˜¯åœ¨ä½¿ç”¨kittyï¼Œä½†æ˜¯y1s1ï¼Œalacrittyæ˜¯çœŸçš„å¿«ã€‚

### å®‰è£…é—®é¢˜

- v2raya å®‰è£…å‘½ä»¤

  ```bash
  curl -Ls https://mirrors.v2raya.org/go.sh | sudo bash
  sudo systemctl disable v2ray --now
  wget -qO - https://apt.v2raya.mzz.pub/key/public-key.asc | sudo apt-key add -
  echo "deb https://apt.v2raya.mzz.pub/ v2raya main" | sudo tee /etc/apt/sources.list.d/v2raya.list
  sudo apt update
  sudo apt install v2raya
  sudo systemctl start v2raya.service
  sudo systemctl enable v2raya.service
  ```

  ä½¿ç”¨æµè§ˆå™¨è®¿é—®å›¾å½¢ UI http://localhost:2017
  ä¹‹ååˆ›å»ºå¸å·ï¼Œå¯¼å…¥è®¢é˜…ï¼Œåœ¨è®¾ç½®é‡Œé¢æ‰¾åˆ°é€æ˜ä»£ç†è®¾ç½®ï¼Œæˆ–è€…å¯èƒ½æ˜¯ç¬¬ä¸€ä¸ªé€‰é¡¹ï¼Œé€‰æ‹©ä»£ç†æ‰€æœ‰æµé‡å³å¯ï¼Œä¹‹åé€‰æ‹©èŠ‚ç‚¹ï¼Œå¯åŠ¨å°±è¡Œ

- åœ¨å®‰è£… Anaconda çš„æ—¶å€™,ç›®å‰æ¥è¯´é‡è§çš„é—®é¢˜æ˜¯ä»å®˜ç½‘ä¸‹è½½çš„æ–‡ä»¶ï¼Œåœ¨æ·»åŠ è¿è¡Œæƒé™ä¹‹åï¼Œä¼šåœ¨æœ€å
  æŠ¥é”™ ä¸€ä¸ªæ˜¾ç¤º Syntax error, è¿™ä¸ªæ—¶å€™åº”è¯¥ä½¿ç”¨ bash Anaconda..æ¥è¿è¡Œè„šæœ¬

- ä»ç›®å‰ä½¿ç”¨è¿‡çš„å‡ ä¸ªç»ˆç«¯æ¨¡æ‹Ÿå™¨ä¸­(terminator emulator)ï¼ŒKitty(ç›®å‰æ­£åœ¨ä½¿ç”¨)

- å®‰è£… Python æ·±åº¦å­¦ä¹ ç›¸å…³ä¾èµ–æ—¶,å…ˆå®‰è£…è‹±ä¼Ÿè¾¾é©±åŠ¨(Nvidia),å› ä¸ºç”¨çš„æ˜¯ Ubuntu20.04,æ‰€ä»¥å…ˆä½¿ç”¨å‘½ä»¤
  è‡ªåŠ¨å®‰è£…é©±åŠ¨(amd é©±åŠ¨æˆ‘å°±ä¸çŸ¥é“äº†å“¦~)

  ```bash
  ubuntu-drivers devices # åˆ—å‡ºå¯å®‰è£…çš„é©±åŠ¨,ä¼šæœ‰ä¸ªå»ºè®®å®‰è£…çš„é©±åŠ¨
  sudo ubuntu-drivers autoinstall # è‡ªåŠ¨å®‰è£…é€‚åˆçš„é©±åŠ¨
  # è¿™é‡Œæ’ä¸€å¥ï¼Œå¦‚æœå¯¹è‡ªå·±çš„é©±åŠ¨ç‰ˆæœ¬ä¸æ˜¯å¾ˆäº†è§£çš„è¯ï¼Œåˆ‡å‹¿ç½‘ä¸Šä¹±æœåˆ«äººçš„ä¾‹å­æ¥é…ç½®è‡ªå·±çš„é©±åŠ¨
  # éå¸¸æœ‰å¯èƒ½ä¼šå¯¼è‡´ä¸æ˜¾å¡ç›¸å…³çš„ä¸€ç³»åˆ—é—®é¢˜(åˆ«é—®æˆ‘æ€ä¹ˆçŸ¥é“çš„)
  # æ­¤å¤„å¯ä»¥é‡å¯ä¸€ä¸‹ shutdown -h now
  nvidia-smi # æŸ¥çœ‹è‡ªå·±çš„cudaç‰ˆæœ¬,å¹¶ä¸”å»nvidiaè§‚æœ›ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶(å†™è¿™ä¸ªnoteçš„æ—¶å€™å®˜æ–¹è¿˜æ²¡æœ‰
  # Ubuntu22.04(åˆšåˆšå‘å¸ƒåŠä¸ªæœˆå·¦å³) çš„ç›¸å…³åŒ…,ä½†æ˜¯ä½¿ç”¨20.04çš„ä¹Ÿæ˜¯å¯ä»¥çš„ä½†æ˜¯è¦å¤šä¸‹è½½ä¸€ä¸ªåº“æ–‡ä»¶
  # https://ubuntu.pkgs.org/20.04/ubuntu-main-amd64/liburcu6_0.11.1-2_amd64.deb.html
  ```

  å®‰è£…å®Œé©±åŠ¨ä¹‹åï¼Œè¿˜è¦ä¸‹è½½ cudnn,ç›´æ¥å» nvidia ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„å³å¯,ä¸‹é¢æ˜¯ä¸‹è½½å®Œæˆä¹‹åçš„éœ€è¦çš„æ“ä½œ

  ```bash
  # å…ˆcdåˆ°ä¸‹è½½è§£å‹çš„ç›®å½•å†…
  sudo cp include/cudnn.h /usr/local/cuda/include
  sudo cp lib/libcudnn* /usr/local/cuda/lib64
  sudo chmod a+r /usr/local/cuda/include/cudnn.h
  sudo chmod a+r /usr/local/cuda/lib64/libcudnn*
  # åœ¨~/.zshrcæ–‡ä»¶å†…æ·»åŠ å¦‚ä¸‹è¯­å¥
  export CUDA_HOME=/usr/local/cuda-11.7 # å…·ä½“ç‰ˆæœ¬è§†å…·ä½“å®‰è£…æƒ…å†µå®š
  export PATH=$PATH:/usr/local/cuda-11.7/bin
  export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda-11.7/lib64
  ```

- è§£å‹ xz åç¼€æ–‡ä»¶

  ```bash
  tar -xvJf æ–‡ä»¶åç§° # å…·ä½“çš„å‚æ•°å¯¹åº”ä»€ä¹ˆæœ‰äººçœ‹åˆ°çš„è¯è‡ªå·±å»æŸ¥å§ä¸è§£é‡Š
  ```

- Anaconda åˆ›å»ºæ–°çš„ python è™šæ‹Ÿç¯å¢ƒå¹¶ä¸”å®‰è£… tensorflow(å·²ç»å®‰è£…äº† tensorflow æ—¢ä¸éœ€è¦å®‰è£… keras)ä»¥åŠæµ‹è¯•

  ```bash
  conda create -n è™šæ‹Ÿç¯å¢ƒåç§° python=ç‰ˆæœ¬ # è‡ªå·±ç›®å‰ä½¿ç”¨çš„æ˜¯3.7.11
  pip install tensorflow
  ```

  python æµ‹è¯•ä»£ç (æœ¬æ¥å°±æ˜¯å®˜ç½‘çš„ä»£ç ,åªæ˜¯è‡ªå·±æ”¾åœ¨è¿™æ–¹ä¾¿ä¸€ç‚¹,ä»¥åå°±æ‡’å¾—å»æ‰¾äº†)

  ```python
  import tensorflow as tf
  mnist = tf.keras.datasets.mnist

  (x_train, y_train),(x_test, y_test) = mnist.load_data()
  x_train, x_test = x_train / 255.0, x_test / 255.0

  model = tf.keras.models.Sequential([

  tf.keras.layers.Flatten(input_shape=(28, 28)),
  tf.keras.layers.Dense(128, activation='relu'),
  tf.keras.layers.Dropout(0.2),
  tf.keras.layers.Dense(10, activation='softmax')])

  model.compile(optimizer='adam',
  loss='sparse_categorical_crossentropy',
  metrics=['accuracy'])

  model.fit(x_train, y_train, epochs=5)
  model.evaluate(x_test, y_test)
  ```

- è®¾ç½®é»˜è®¤ç»ˆç«¯æ¨¡æ‹Ÿå™¨(æ­¤å¤„ Alacritty ä¸ºä¾‹)

  ```bash
  sudo update-alternatives --install /usr/bin/x-terminal-emulator x-terminal-emulator `which alacritty` 50
  sudo update-alternatives --config x-terminal-emulator
  # ä¹‹åé€‰æ‹©ä¸€ä¸‹å°±å¥½äº†
  ```

  è¿™é‡Œè¯´ä¸€ä¸‹ï¼Œè¿™ä¸ªæ˜¯ gnome ä¹‹ç±»çš„å›¾å½¢ç•Œé¢è®¾ç½®ï¼Œæˆ‘ç°åœ¨éƒ½ç›´æ¥ä½¿ç”¨çª—å£ç®¡ç†å™¨ï¼Œæ‰€ä»¥ç›´æ¥åœ¨å¯¹åº”çš„çª—å£ç®¡ç†å™¨é‡Œé¢è®¾ç½®å°±å¥½

- i3wm çš„ä¸€äº›å¯èƒ½è¦éœ€å®‰è£…çš„è½¯ä»¶

  - i3-gaps çª—å£é—´ gap è®¾ç½®
  - i3blocks æ¡Œé¢çŠ¶æ€æ è®¾ç½®
  - feh å£çº¸è®¾ç½®
  - å…¶ä»–å°±æ˜¯é…ç½®æ–‡ä»¶å§ï¼Œåæ­£éƒ½åœ¨è¿™äº†

- è®¾ç½® Ubuntu å†…æ ¸ä¸è‡ªåŠ¨æ›´æ–°

  ```bash
  sudo apt-mark hold linux-generic linux-image-generic linux-headers-generic
  ```

- ç›¸å…³é…ç½®æ–‡ä»¶æ‰€åœ¨ä½ç½®(å¯ä»¥è‡ªå·±è®¾ç½®ä½ç½®ï¼Œåœ¨æ­¤åªæ˜¯è‡ªå·±çš„ç›®å‰é…ç½®ä½ç½®)

  | é…ç½®æ–‡ä»¶åç§°             | è¯´æ˜                                                                | é…ç½®æ–‡ä»¶è·¯å¾„                         |
  | ------------------------ | ------------------------------------------------------------------- | ------------------------------------ |
  | compton.conf/picom.confg | compton/picom é…ç½®æ–‡ä»¶(è‡³å°‘æˆ‘çš„æœºå­ä¸Šcomptonæ˜¯picomçš„symbolic link) | `$HOME/.config/compton.conf`         |
  | config                   | i3wm é…ç½®æ–‡ä»¶                                                       | `$HOME/.config/i3/config`            |
  | config.lua               | ç›®å‰ä½¿ç”¨çš„ lunarvim é…ç½®æ–‡ä»¶                                        | `$HOME/.config/lvim/config.lua`      |
  | i3blocks.conf            | i3blocks çŠ¶æ€æ é…ç½®æ–‡ä»¶                                             | `$HOME/.config/i3/i3blocks.conf`     |
  | bing_wallpaper.sh        | è·å– bing å£çº¸ sh è„šæœ¬                                              | `$HOME/.config/i3/bing_wallpaper.sh` |

- xmonad
  éœ€è¦å®‰è£… xmonad,xmonad-contrib,xmobar
- éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œxrandr å’Œ compton æˆ–è€… picom å¯èƒ½ä¼šå¯¼è‡´å¤–æ¥æ˜¾ç¤ºå™¨é»‘å±(è‡³å°‘æˆ‘é‡è§äº†)(ä¹Ÿæœ‰å¯èƒ½æ˜¯å› ä¸ºgpuæ²¡æœ‰é€‰æ‹©ç‹¬æ˜¾)
- ä¸­æ–‡è¾“å…¥æ³•å®‰è£…

```shell
# arch ä¸‹ï¼Œå…¶ä»–å‘è¡Œç‰ˆå®‰è£…å¯¹åº”çš„åŒ…å°±è¡Œï¼Œibusç”¨äºåœ¨kittyä¸­ä½¿ç”¨ä¸­æ–‡
sudo pacman -S fcitx5-im fcitx5-chinese-addons fcitx5-rime ibus
```

åœ¨ /etc/environment ä¸­å†™å…¥

```
BROWSER=firefox
EDITOR=nano
GTK_IM_MODULE=fcitx
QT_IM_MODULE=fcitx
XMODIFIERS=@im=fcitx
SDL_IM_MODULE=fcitx
# è¿™ä¸€è¡Œä½¿ç”¨ibusä¸kittyäº¤äº’ï¼Œè¾“å…¥ä¸­æ–‡
GLFW_IM_MODULE=ibus
```

## è¿œç¨‹æœåŠ¡å™¨sshé…ç½®
åœ¨æœ¬åœ°ä½¿ç”¨ `ssh-keygen -t rsa -C "comment é‚®ç®±å•¥çš„"` ç”Ÿæˆå…¬é’¥å’Œç§é’¥ï¼Œä¹‹åå°†pubç»“å°¾çš„å…¬é’¥å†™å…¥æœåŠ¡å™¨çš„ `~/.ssh/authorized_keys` æ–‡ä»¶å†…ã€‚
æ³¨æ„è¿™é‡Œå¯èƒ½éœ€è¦é…ç½®æ–‡ä»¶å¤¹æƒé™ä»¥åŠsshdæœåŠ¡é…ç½®ã€‚ä¸‹é¢å‘½ä»¤çœ‹çœ‹å‚è€ƒå°±è¡Œï¼Œå°±æ€•è‡ªå·±å¿˜è®°ã€‚

```shell
ssh-keygen -t rsa -C "asdfasdf@email.com"
# è¿™ä¸ªå‘½ä»¤ç›´æ¥å°†å¯¹åº”pubçš„å…¬é’¥æ”¾åˆ°ä¸Šå‡authorized_keysæ–‡ä»¶å†…
# å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥å†™å…¥é‚£ä¸ªæ–‡ä»¶
ssh-copy-id -i ~/.ssh/n_rsa.pub username@host
# æƒé™å•¥æ„æ€æ‡‚å¾—éƒ½æ‡‚
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys

```

```text
# æœ€åé…ç½®
File: /etc/ssh/sshd_config
# ...
# æŠŠè¿™ä¸ªæ³¨é‡Šæ‰“å¼€
AuthorizedKeysFile: ~/.ssh/authorized_keys
# é¡ºå¸¦è¯´ä¸€å¥ï¼Œæˆ‘ä¸å–œæ¬¢rootå¯ä»¥ç™»å½•ï¼Œæ‰€ä»¥å¯ä»¥ä¸‹é¢é…ç½®
PermitRootLogin no
# è¿™é‡Œé…ç½®æ˜¯å¦å…è®¸ä½¿ç”¨å¯†ç ç™»å½•
PasswordAuthentication no
# ...
```

æœ€åé‡å¯sshdæœåŠ¡ æˆ‘ä½¿ç”¨çš„æ˜¯systemd æ‰€ä»¥ä½¿ç”¨å‘½ä»¤ `sudo systemctl restart sshd`

æˆ‘æœ¬åœ°çš„`~/.ssh/config` æ–‡ä»¶å†…ç›¸åº”çš„é…ç½®ä¸º

```text

Host aliyun_server
HostName é˜¿é‡Œäº‘çš„ipå•¥çš„
User liuzehao
IdentityFile ~/.ssh/aliyun_rsa # æŒ‡å‘å¯¹åº”å…¬é’¥çš„ç§é’¥æ–‡ä»¶

Host nittin
HostName github.com # github å•¥çš„
IdentityFile ~/.ssh/nittin_rsa
User niT-Tin
Port é»˜è®¤ä¸å†™æ˜¯22,å½“ç„¶ä¹Ÿå¯ä»¥æ˜¾å¼åœ°è®¾ç½®æˆåˆ«çš„ç«¯å£ï¼Œå¦‚æœæœåŠ¡å™¨åœ¨ç›‘å¬çš„è¯
```

é…ç½®ä¹‹åç±»ä¼¼å¯ä»¥å°† `git clone git@github.com:niT-Tin/asdf.git` æ›¿æ¢ä¸º `git clone git@nittin:niT-Tin/asdf.git`

### é…ç½®åå‘ä»£ç†

è¿™é‡Œå°†éš”ç¦»æœºå™¨ä½œä¸ºä¸­é—´è·³æ¿ï¼Œè¿æ¥å®é™…å¼€å‘æœºå™¨ä¸å®¢æˆ·æœºå™¨ï¼Œå› ä¸ºè¿™é‡Œæˆ‘åªæ˜¯å•çº¯æ‹¿ä¸¤ä¸ªæœ¬åœ°æœºå™¨æµ‹è¯•ï¼Œæ‰€ä»¥åœ°å€éƒ½ä¸ºå†…ç½‘ip,å®é™…ä¸Šå¯ä»¥developåªèƒ½ï¼Œè¿æ¥isolate,è€Œisolateæ— æ³•è¿æ¥develop,clienté€šè¿‡è¿æ¥isolateä¸developé€šä¿¡ï¼Œè¿›è€Œéšè—develop

```text
                                                                                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
                                                                                                â”‚           â”‚  
                                                                                                â”‚   client  â”‚  
                                                                                                â”‚           â”‚  
                                                                                                â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  
                                                                                                      â”‚        
                                                                2. ssh -p 7777 user@192.168.217.102   â”‚
                                                                  (å®¢æˆ·ç«¯è¿è¡ŒæŒ‡å®šå¯¹åº”ç«¯å£)            â”‚        
                                                                                                      â”‚        
                                                                                                      â”‚        
                                                                                                      â”‚        
                                                                                                      â”‚        
                                                                                                      â”‚        
                                                                                                      â”‚        
                                                                                                      â”‚        
                                                                                                      â”‚
                (develop ä¸Šè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°†isolateçš„7777ç«¯å£æµé‡ä»£ç†åˆ°æœ¬æœº22ç«¯å£)                     â–¼        
   â”Œâ”€â”€â”€â”€â”€â”€â”€â” 1. ssh -R 192.168.217.102:7777:localhost:22 user@192.168.217.102                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” 
   â”‚       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚         â”‚ 
   â”‚developâ”‚                                                                                       â”‚ isolate â”‚ 
   â”‚       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚ 
   â””â”€â”€â”€â”€â”€â”€â”€â”˜                      3. to develop                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 
    192.168.217.101                                                                                  192.168.217.102
```

è¿™é‡Œæ³¨æ„é…ç½®isolateçš„sshd_configæ–‡ä»¶ï¼Œéœ€è¦å°†`GatewayPorts`é¡¹è®¾ç½®ä¸ºyes

## å­—ä½“é…ç½®

å…·ä½“æŸ¥çœ‹å­—ä½“æ–‡ä»¶å¤¹å†…çš„é…ç½®ä»¥åŠä½ç½®, è¿˜æœ‰ st çš„ `config.h` æ–‡ä»¶å†…çš„å­—ä½“å¯¹åº”å®‰è£…å³å¯

è‹±æ–‡å­—ç¬¦å’Œä¸­æ–‡å­—ç¬¦åœ¨æœ‰äº›å­—ä½“ä¸‹å®½åº¦å¹¶æ²¡æœ‰å¾ˆå¥½æŒ‰ç…§ä¸€å®šæ¯”ä¾‹æ¸²æŸ“ã€‚æ¯”å¦‚æˆ‘è‡ªå·±ç»ˆç«¯ä½¿ç”¨venn.nvimæ’ä»¶ç”»äº†å›¾ï¼Œä½†æ˜¯åœ¨typoraå†…ä¸­æ–‡å®½åº¦ä¸è‹±æ–‡å®½åº¦æœ‰é—®é¢˜ã€‚è§£å†³çš„åŠæ³•æ˜¯ä¿®æ”¹typoraçš„å­—ä½“(å½“ç„¶æˆ‘ç»ˆç«¯æ˜¯ä¹Ÿæ”¯æŒè¿™ç§å­—ä½“)

å­—ä½“
```txt
https://github.com/be5invis/Sarasa-Gothic
Noto Sans CJK(æ€æºé»‘ä½“)
```
ä¿®æ”¹Typoraä»£ç éƒ¨åˆ†å­—ä½“(å› ä¸ºæˆ‘æŠŠå›¾ç”»çš„æ”¾åœ¨ä»£ç å—å†…ï¼Œå…·ä½“æ”¾åœ¨åˆ«çš„åœ°æ–¹å¯ä»¥å¯¹åº”ä¸åŒçš„cssé€‰æ‹©å™¨)ï¼Œåœ¨ `~/.config/Typora/themes` æ–‡ä»¶å¤¹ä¸‹æ·»åŠ  `base.user.css` æ–‡ä»¶ã€‚ä¸‹é¢æ˜¯é€‰æ‹©åˆ°ä»£ç å—ä¹‹åæ”¹å­—ä½“çš„css

```css
.CodeMirror-wrap .CodeMirror-code pre {
  font-family: "Sarasa Fixed";
}
```

## æ˜¾å¡é…ç½®

æ–°å®‰è£…çš„arch basedç³»ç»Ÿå¯èƒ½æ˜¯ä½¿ç”¨cpuçš„é›†æˆæ˜¾å¡ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥å®‰è£…optimusæ¥é€‰æ‹©nvidia(æˆ‘ç›®å‰æ˜¯è¿™ä¸ªç‹¬ç«‹æ˜¾å¡)ã€‚ä¸‹é¢æ˜¯å‘½ä»¤è¡Œã€‚(è¿˜æ˜¯å»ºè®®ç›´æ¥å»github optimusçš„ä»“åº“ï¼Œæ–‡æ¡£å†™çš„å¾ˆæ¸…æ¥šäº†)

æˆ‘è¿™é‡Œè‡ªå·±å®‰è£…äº†EndeaourOSï¼Œéœ€è¦åœ¨`/etc/optimus-manager/optimus-manager.conf` çš„æ–‡ä»¶å†…æ·»åŠ å¦‚ä¸‹å†…å®¹ã€‚

```text
[optimus]
startup_mode=nvidia
```

è®¾ç½®ä¸ºå¯åŠ¨æ—¶é€‰æ‹©nvidia(ä¹Ÿå°±æ˜¯æˆ‘è‡ªå·±çš„ç‹¬ç«‹æ˜¾å¡)ä½œä¸ºä¸»æ˜¾å¡ã€‚

å½“å†…æ ¸æ›´æ–°ä¹‹åï¼Œoptimus å¯èƒ½éœ€è¦æ›´æ–°ï¼Œ(æˆ‘åœ¨å†…æ ¸ç‰ˆæœ¬ä»6.2 --> 6.3 çš„æ›´æ–°ä¸­optimusæœªæ›´æ–°å¯¼è‡´å†…ç½®å±å¹•é»‘å±)

```
yay -S optimus-manager optimus-manager-qt
```

å¯¹äº†ï¼Œå¦‚æœæ˜¯è‡ªå·±å®‰è£…çš„archæˆ–è€…gentooä¹‹ç±»çš„ï¼Œè®°å¾—å†™ä¸ª[hook](#æ›´æ–°å†…æ ¸è‡´ä½¿nvidiaæ˜¾å¡æ— æ³•ä½¿ç”¨çš„é—®é¢˜), åœ¨æ¯æ¬¡æ›´æ–°å†…æ ¸ä¹‹åé‡æ–°è‡ªåŠ¨ç¼–è¯‘nvidiaé©±åŠ¨ï¼Œvmwareçš„æ¨¡å—ä¹Ÿéœ€è¦é‡æ–°ç¼–è¯‘å®‰è£…(è¿™ä¸ªå¯ä»¥é‡å¯ä¹‹åsudo vmwareç‚¹å‡»installæ¥å®‰è£…)

## ä¸‹è½½è½¯ä»¶æœ¬åœ°å®‰è£…éªŒè¯(ä»¥emacsä¸ºä¾‹)

åœ¨gnuå®˜æ–¹ä¸‹è½½emacs http://ftp.gnu.org/gnu/emacs/ ï¼Œä¸‹è½½gzæˆ–è€…xzæºæ–‡ä»¶ï¼Œå¹¶ä¸”ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„sigæ–‡ä»¶ã€‚

ä»å®˜æ–¹å…¬é’¥æ–‡ä»¶å°†å…¬é’¥å¯¼å…¥æœ¬åœ°
```shell
wget https://ftp.gnu.org/gnu/gnu-keyring.gpg
gpg --import gnu-keyring.gpg
```

å¯¼å…¥å®Œæˆä¹‹åï¼ŒéªŒè¯æ–‡ä»¶

```shell
# gpg éªŒè¯æ ¼å¼
# gpg --verify <filename>.sig <filename>
gpg --verify emacs-28.2.tar.gz.sig emacs-28.2.tar.gz
```

## Linuxè™šæ‹Ÿæœºä¸å®¿ä¸»æœºå…±äº«ç›®å½•é…ç½®

å› ä¸ºç›®å‰åœ¨Linuxä¸Šä½¿ç”¨vmwareæ„Ÿè§‰è¿˜ä¸é”™ï¼Œæ‰€ä»¥åœ¨ç”¨ã€‚
**é¦–å…ˆå¤–éƒ¨vmwareå…±äº«æ–‡ä»¶å¤¹è®¾ç½®ä¸»æœºè¦å…±äº«çš„æ–‡ä»¶å¤¹ä½ç½®ã€‚**
å®‰è£… `vmtools` å¦‚æœè½¯ä»¶èƒ½é€šè¿‡vmwareå®‰è£…å°±ç”¨vmware GUIç•Œé¢å®‰è£…ï¼Œæˆ–è€…ä½¿ç”¨ åŒ…ç®¡ç†å™¨å®‰è£… `open-vm-tools`
ç¼–è¾‘`/etc/fstab`
æ·»åŠ ä¸‹é¢ä¸€è¡Œ
```text
.host:/ ${dir_path} fuse.vmhgfs-fuse allow_other 0 2
```
è¿™é‡Œçš„ `${dir_path}` ä¸ºå…·ä½“æˆ‘éœ€è¦æŒ‚è½½åˆ°çš„å†…éƒ¨Linuxçš„æ–‡ä»¶å¤¹è·¯å¾„

å¦‚æœæ˜¯VirtualBoxçš„è¯ï¼Œå»å®˜ç½‘ä¸‹è½½ä¸€ä¸ª `VBoxGuestAdditions.{version}.iso` æ–‡ä»¶ï¼Œåœ¨è™šæ‹Ÿæœºå†…æŒ‚è½½ä¸€ä¸‹ï¼Œè¿›å…¥å¯¹åº”ç›®å½•ï¼ŒæŒ‚è½½ä¸€ä¸‹ï¼Œå®‰è£…ä¸€ä¸‹ï¼Œæœ€åæŸ¥ä¸€ä¸‹å®˜æ–¹å…±äº«æ“ä½œğŸ˜„ã€‚

## å¯¹äºneovideä¸lunarvimçš„ç»“åˆæ“ä½œ

> æŒºæ—©ä¸€æ®µæ—¶é—´å°è¯•ä½¿ç”¨neovide(ä¸€ä¸ªneovimçš„guiå‰ç«¯)ï¼Œå…‰æ ‡åŠ¨æ€æ•ˆæœç¡®å®å¥½ç©(æˆ‘åæ¥åœ¨vscodeä¸­ä¹Ÿå¯ç”¨äº†smooth cursor)ï¼Œä½†æ˜¯æˆ‘ç›®å‰ä½¿ç”¨çš„ç»ˆç«¯ä¸‹ç¼–è¾‘å™¨è™½ç„¶ä¹Ÿæ˜¯neovimï¼Œä½†æ˜¯é…ç½®æ˜¯åŸºäºlunarvimã€‚
> lunarvimæœ‰è‡ªå·±çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½†æ˜¯neovideå¹¶ä¸è¯»å–lunarvimçš„é…ç½®ï¼Œè€Œæ˜¯ç›´æ¥è¯»å–neovimçš„é…ç½®ã€‚åœ¨äº§çœ‹äº†neovideçš„éƒ¨åˆ†æºç ä»¥åŠlunarvimçš„å¯æ‰§è¡Œè„šæœ¬(å…¶å®å°±æ˜¯ä¸€ä¸ªshellè„šæœ¬)ä¹‹åï¼Œæˆ‘å‘ç°å¯ä»¥åšå‡ºå¦‚ä¸‹ä¿®æ”¹æ¥è®©neovimè¯»å–lunarvimé…ç½®ï¼Œneovideè¿™æ ·neovideå°±èƒ½åº”ç”¨åœ¨lunarvimä¸Šäº†ã€‚

å°†åŸå…ˆä½äº `PATH` å†…çš„nvimå¯æ‰§è¡Œæ–‡ä»¶æ”¹åï¼Œå†åˆ›å»ºä¸€ä¸ªä¸nvimåŒåçš„shellè„šæœ¬ï¼Œæ·»åŠ æ‰§è¡Œæƒé™ç”¨æ¥ä»£æ›¿åŸå…ˆçš„nvimã€‚å¯æ‰§è¡Œæ–‡ä»¶å†…å®¹ä¸ºå¦‚ä¸‹ã€‚

> æ³¨æ„ï¼šæ­¤æ—¶lunarvimçš„ç‰ˆæœ¬ä¸º1.2(æ­¤æ—¶å®é™…å®˜æ–¹å·²ç»å‘å¸ƒäº†1.3ï¼Œä½†æ˜¯æˆ‘è‡ªå·±ä½¿ç”¨æœ‰å¤ªå¤šbugï¼Œå¹²è„†å›é€€äº†ç‰ˆæœ¬nvimä¹Ÿå¹¶æ²¡æœ‰ä½¿ç”¨0.9è€Œæ˜¯ä½¿ç”¨0.8)ã€‚

---

**å¿˜è®°çœ‹æ–‡æ¡£äº†**

å¯ä»¥ä½¿ç”¨ `--neovim-bin` å‚æ•°æˆ–è€…è®¾ç½® `$NEOVIM_BIN` å˜é‡æ¥è®¾ç½®è¦å¯åŠ¨çš„neovimäºŒè¿›åˆ¶æ–‡ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœè¦neovideè‡ªåŠ¨æ‰“å¼€lunarvimè¿™æ ·ç±»ä¼¼çš„é¢„é…ç½®å¹¶ä¸”æœ‰è‡ªå·±çš„å¯æ‰§è¡Œæ–‡ä»¶å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ã€‚

```bash
neovide --neovim-bin ~/.local/bin/lvim
# or
NEOVIM_BIN=~/.local/bin/lvim
neovide
```
è¿™é‡Œ `~/.local/bin/lvim` æ˜¯luarvimçš„å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®ã€‚é¡ºå¸¦è¯´ä¸€å¥ï¼Œç°åœ¨çš„neovide(0.11.0)Linuxä¸‹å¯ä»¥è¾“å…¥ä¸­æ–‡äº†ã€‚

```shell

#!/usr/bin/env bash
export MYHOME="/home/liuzehao"
export vimbin="/usr/local/bin/nvim.8"
export LUNARVIM_RUNTIME_DIR="${LUNARVIM_RUNTIME_DIR:-"$MYHOME/.local/share/lunarvim"}"
export LUNARVIM_CONFIG_DIR="${LUNARVIM_CONFIG_DIR:-"$MYHOME/.config/lvim"}"
export LUNARVIM_CACHE_DIR="${LUNARVIM_CACHE_DIR:-"$MYHOME/.cache/lvim"}"

export LUNARVIM_BASE_DIR="${LUNARVIM_BASE_DIR:-"$MYHOME/.local/share/lunarvim/lvim"}"
exec -a nvim $vimbin -u "$LUNARVIM_BASE_DIR/init.lua" "$@"
```

## å®‰è£…å­—ä½“
ä¸‹è½½ttfæ–‡ä»¶ä¹‹åå¯ä»¥åœ¨`/usr/share/fonts`æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºå¯¹åº”å­—ä½“åç§°çš„æ–‡ä»¶å¤¹ï¼Œç„¶åæŠŠttfæ–‡ä»¶æ”¾è¿›å»ï¼Œç„¶ååœ¨æ–‡ä»¶å¤¹å†…è¿è¡Œä¸‹é¢ä¸¤è¡Œå‘½ä»¤ã€‚(è¿˜å¯ä»¥æ”¾åœ¨`$HOME/.local/share/fonts`æ–‡ä»¶å¤¹ä¸‹é¢)


```bash
sudo mkfontdir
sudo mkfontscale
```

æœ€åcacheä¸€ä¸‹

```bash
fc-cache
```

æˆ‘å’‹è¿˜è®°å¾—æˆ‘ä»¥å‰ä¸æ˜¯è¿™ä¹ˆè£…å­—ä½“çš„ï¼ŒğŸ¤” æˆ‘ç»™å¿˜è®°äº†ï¼ŒğŸ¤—æš‚æ—¶è®°å½•ä¸‹æˆ‘è®°å¾—çš„ã€‚

vscodeè¿˜éœ€è¦å®‰è£…ä¸‹é¢è¿™ä¸ªå­—ä½“æ¥è®©vscodeçš„å†…éƒ¨ç»ˆç«¯ä¸è‡³äºå­—ç¬¦ä¹±ç 

![](./images/vscode-code.png)

## è·å¾—å­—ä½“ç›¸å…³å›¾æ ‡

å¯ä»¥å®‰è£… `font-manager` æ‰“å¼€ä¹‹åé€‰æ‹©å¯¹åº”å­—ä½“å³å¯çœ‹åˆ°æœ‰çš„å›¾æ ‡ï¼Œé€‰æ‹©å›¾æ ‡å³é”®å¯ä»¥å¤åˆ¶ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™ä¼šé”™ä½ä¸çŸ¥é“ä¸ºä»€ä¹ˆ

```shell
sudo pacman -S font-manager
```
## jonaburg/picom

å› ä¸ºè¦å®ç°åŠ¨ç”»æ•ˆæœ(åˆ«è¯´ï¼Œæ‰“å­—çš„æ—¶å€™æ˜¾ç¤ºå€™é€‰æ±‰å­—ä¹Ÿæœ‰åŠ¨ç”»ï¼ŒæŒºä¸é”™)ï¼Œæ‰€ä»¥ä½¿ç”¨ [jonaburg/picom](https://github.com/jonaburg/picom)

emm... å¥½å§ï¼Œä¸ºäº†æ›´å¥½çš„åŠ¨ç”»æ•ˆæœæˆ‘åˆç”¨äº†è¿™ä¸€ä¸ªfolkç‰ˆæœ¬çš„picom,ä½†æ˜¯éœ€è¦åœ¨åé¢åŠ ä¸Š `--experimental-backends` é€‰é¡¹ã€‚å› ä¸ºåŠ äº†è¿™ä¸ªbluræ‰èƒ½æ­£å¸¸ï¼Œä½†æ˜¯åœ†è§’å°±ä¸æ­£å¸¸äº†ï¼Œè€Œä¸”æ¯æ¬¡è¿›å…¥i3wm,
éœ€è¦restartï¼Œä¹Ÿå°±æ˜¯`mod+Shift+r` è®©polybaræ˜¾ç¤ºå‡ºæ¥ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œä¸ä½¿ç”¨ `--experimental-backends` å°±èƒ½æ­£å¸¸æ˜¾ç¤ºå¹¶ä¸”åœ†è§’æ­£å¸¸ï¼Œä½†æ˜¯blurä¸æ­£å¸¸ï¼Œæƒè¡¡ä¹‹åï¼Œè¿˜æ˜¯æƒ³è¦blurã€‚


å¯ä»¥æŒ‰ç…§githubæ¥ç¼–è¯‘ï¼Œä½†æ˜¯auré‡Œé¢å·²ç»æœ‰äº†ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å®‰è£…ã€‚

```shell
# yay -S picom-jonaburg-git
yay -S picom-pijulius-git
```

`picom` ç›®å½•ä¸‹ä¸åŒçš„ç‰ˆæœ¬å¯¹åº”çš„é…ç½®æ–‡ä»¶éƒ½åšäº†ä¸åŒå‘½åï¼Œ`picom.conf` æ˜¯å½“å‰æ­£åœ¨ç”¨çš„ç‰ˆæœ¬ã€‚

å†æ¥åˆæ‰¾åˆ°ä¸ªè§£å†³äº†ä¸Šé¢é—®é¢˜çš„picomçš„folk: https://github.com/yaocccc/picom

è¿™ä¸ªæœ‰archå¯¹åº”çš„PKGBUILDæ–‡ä»¶å¦‚ä¸‹
```shell

_forkname=yaocccc
pkgname=picom-animations-git
_gitname=picom
pkgver=1788__2023.02.13
pkgrel=1
pkgdesc="X compositor (fork of compton) (git-version; animation fork)"
arch=(i686 x86_64)
url="https://github.com/${_forkname}/${_gitname}"
license=('MIT' 'MPL2')
depends=('libgl' 'libev' 'pcre' 'libx11' 'xcb-util-renderutil' 'libxcb' 'xcb-util-image' 'libxext'
         'pixman' 'libconfig' 'libdbus' 'hicolor-icon-theme')
makedepends=('git' 'mesa' 'meson' 'asciidoc' 'uthash' 'xorgproto')
optdepends=('dbus:          To control picom via D-Bus'
            'xorg-xwininfo: For picom-trans'
            'xorg-xprop:    For picom-trans'
            'python:        For picom-convgen.py')
provides=('compton' 'compton-git' 'picom')
conflicts=('compton' 'compton-git' 'picom')
replaces=('compton-git')
source=(git+"https://github.com/${_forkname}/${_gitname}.git")
sha256sums=("SKIP")

pkgver() {
    cd ${_gitname}
    _tag=$(git describe --tags | sed 's:^v::') # tag is mobile, and switches between numbers and letters, can't use it for versioning
    _commits=$(git rev-list --count HEAD) # total commits is the most sane way of getting incremental pkgver
    _date=$(git log -1 --date=short --pretty=format:%cd)
    printf "%s_%s_%s\n" "${_commits}" "${_tag}" "${_date}" | sed 's/-/./g'
}

build() {
  cd "${srcdir}/${_gitname}"
  meson --buildtype=release . build --prefix=/usr -Dwith_docs=true
  ninja -C build
}

package() {
  cd "${srcdir}/${_gitname}"

  DESTDIR="${pkgdir}" ninja -C build install

  # install license
  install -D -m644 "LICENSES/MIT" "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE-MIT"

  # example conf
  install -D -m644 "picom.sample.conf" "${pkgdir}/etc/xdg/picom.conf.example"
}
```
å®‰è£…ç›´æ¥åœ¨æœ‰è¯¥æ–‡ä»¶çš„ç›®å½•ä¸‹ `makepkg -si` å°±è¡Œäº†ã€‚

## glibc

å› ä¸ºéœ€è¦åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œä¸€äº›ä»£ç ï¼Œä¸ºäº†è¿œç¨‹å¼€å‘æ–¹ä¾¿ï¼Œå†³å®šä½¿ç”¨vscodeçš„remoteæ’ä»¶ã€‚åœ¨å®‰è£…å¯¹åº”è¯­è¨€çš„lspæ—¶ï¼Œå‘ç°å¯ä»¥è¿œç¨‹å®‰è£…lsp,è¿™åˆ°æŒºæ–°é²œï¼Œå› ä¸ºæˆ‘å®‰è£…çš„æ˜¯rust-analyzer,å› ä¸ºæœ¬æœºçš„glibcç‰ˆæœ¬æœåŠ¡å™¨å¹¶ä¸æ”¯æŒã€‚

æ‰€ä»¥æ‰“ç®—å®‰è£…ä¸€ä¸‹ï¼Œåœ¨ç¼–è¯‘å®Œlibcä¹‹åï¼Œæ‰“ç®—åšè½¯è¿æ¥ï¼Œä½†æ˜¯æˆ‘çš„zshç›´æ¥ `segmentation fault` äº†ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆï¼Œå¤ªå‚»äº†ã€‚æ‰€æœ‰å‘½ä»¤ä¸èƒ½æ‰§è¡Œ(é™¤äº†shellå†…ç½®çš„)ã€‚

æœ€ç®€å•çš„åŠæ³•æ˜¯ï¼Œæ¯æ¬¡æ‰§è¡Œå‘½ä»¤ä¹‹å‰åŠ å…¥`LD_PRELOAD=æ—§äº†libcçš„soè·¯å¾„`  ä¹Ÿå°±æ˜¯ `LD_PRELOAD=æ—§äº†libcçš„soè·¯å¾„ å‘½ä»¤`, ä½¿ç”¨ä¹‹å‰çš„libc

æˆ‘è¿™ä¸ºäº†æš‚æ—¶æ¢å¤ï¼Œå°±å°†/lib64/libc.so.6 åˆæŒ‡å‘äº†æ—§çš„libc,ä¹Ÿå°±ä¿®å¤äº†ã€‚åªèƒ½è¯´å¤ªå‚»äº†ã€‚

```shell
LD_PRELOAD=/lib64/libc-2.17.so rm -f /lib64/libc.so.6
LD_PRELOAD=/lib64/libc-2.17.so ln -s /lib64/libc-2.17.so /lib64/libc.so.6
```

æš‚æ—¶æ‡’å¾—å»æŸ¥ï¼Œå•çº¯è®°å½•ä¸€ä¸‹,è¿˜æœ‰ä¸€ç§æ˜¯: 
```text
[root@managernode ~]# ls
ls: relocation error: /lib/libc.so.6: symbol _dl_starting_up, version GLIBC_PRIVATE not defined in file ld-linux-x86-64.so.2 æˆ–è€… libc.so.6 with link time reference
```

å°†è€ç‰ˆæœ¬çš„libcçš„soæ–‡ä»¶å’Œldçš„soæ–‡ä»¶é‡æ–°åšè½¯é“¾æ¥

```shell
sln /usr/lib64/libc-2.17.so /lib64/libc.so.6
sln /usr/lib64/ld-2.17.so /usr/lib64/ld-linux-x86-64.so.2
```

æœ€åè¿˜æ˜¯æé†’ä¸€ä¸‹ï¼Œä¸€äº›è¾ƒä¸ºå¹¿æ³›ä½¿ç”¨çš„åº•å±‚åº“ä¸è¦è½»æ˜“åŠ¨ï¼Œå¦‚æœè¿˜æœ‰å…¶ä»–æŠ¥é”™ï¼Œçœ‹é”™è¯¯ä¿¡æ¯ï¼ŒæŸ¥çœ‹é”™è¯¯æ–‡ä»¶ç±»å‹ï¼ŒæŸ¥æ‰¾é”™è¯¯åŸå› ï¼ŒæŸ¥æ‰¾è§£å†³åŠæ³•ã€‚(å¯èƒ½ä¼šæœ‰å…¶ä»–çš„ä¸€äº›é“¾æ¥é”™è¯¯)

## ç»ˆç«¯é¢œè‰²ä½¿ç”¨

é¦–å…ˆæœ€åŸºç¡€çš„å°±æ˜¯ä¸‹é¢çš„æ“ä½œ(å¯ä»¥çœ‹æˆ‘çš„bashæ–‡ç« ï¼Œç¬‘æ­»ğŸ˜…ï¼Œè¿™ä¸æ˜¯ç»™è‡ªå·±çœ‹çš„å—)

- é¢œè‰²åŠå…¶å¯¹åº”ä»£ç åˆ—è¡¨

  | å­—ä½“é¢œè‰² | é¢œè‰²ä»£ç  | èƒŒæ™¯é¢œè‰² | é¢œè‰²ä»£ç  |
  | :------: | :------: | :------: | :------: |
  |   é‡ç½®   |    0     |   é‡ç½®   |    0     |
  |   é»‘è‰²   |    30    |   é»‘è‰²   |    40    |
  |   çº¢è‰²   |    31    |   çº¢è‰²   |    41    |
  |   ç»¿è‰²   |    32    |   ç»¿è‰²   |    42    |
  |   é»„è‰²   |    33    |   é»„è‰²   |    43    |
  |   è“è‰²   |    34    |   è“è‰²   |    44    |
  |   æ´‹çº¢   |    35    |   æ´‹çº¢   |    45    |
  |   é’è‰²   |    36    |   é’è‰²   |    46    |
  |   ç™½è‰²   |    37    |   ç™½è‰²   |    47    |

ä»£ç å¦‚ä¸‹
`-e` è¡¨ç¤ºä½¿ç”¨è½¬ä¹‰å­—ç¬¦ä¸², `-n` ä¸è¾“å‡ºé¢å¤–çš„æ¢è¡Œ

```shell
echo -ne "\e[1;31m This\e[0m\e[1;32m is\e[0m\e[1;33m colorful\e[0m\e[1;34m words \e[0m"

echo -ne "\e[1;41m\e[1;34mHello\e[0m \e[1;47m\e[1;32mWorld\e[0m"
```

> æ³¨æ„ï¼Œè¦è®¾ç½®é¢œè‰²éœ€è¦ä½¿ç”¨ `\e[1;` å¼€å§‹åè·Ÿé¢œè‰²ã€‚é‡ç½®åˆ™ä½¿ç”¨ `\e[0m` å…·ä½“çœ‹ä¸Šä¸€ä¸ªä¾‹å­

ä»¥ä¸Šæ˜¯æœ€åŸºç¡€çš„é¢œè‰²æ˜¾ç¤ºï¼Œå…¶ä¸­åœ¨ç»ˆç«¯å…è®¸çš„æƒ…å†µä¸‹ï¼Œè¿˜å¯ä»¥å¼€å¯rgbæ¨¡å¼æˆ–è€…256æ¨¡å¼

å¼€å¯rgbæ¨¡å¼
```shell
echo -e "\e[38;2;255;165;0mThis is orange text.\e[0m"
```
è¿™é‡Œçš„æ ¼å¼ä¸º`"\e[38;2;<R>;<G>;<B>m{Text}]"`ã€‚38è¡¨ç¤ºå‰æ™¯è‰²(èƒŒæ™¯è‰²å¯ä»¥ç”¨48å¼€å¯)ï¼Œ2è¡¨ç¤ºä½¿ç”¨rgbæ¨¡å¼ï¼Œè¦ä½¿ç”¨256æ¨¡å¼å¯ä»¥ä½¿ç”¨5ã€‚

## tmux æ—¥å¸¸å·¥ä½œæµå¿«æ·é”®

å› ä¸ºå®‰è£…äº†é»˜è®¤çš„oh my tmux,å¿«æ·é”®å¯èƒ½ä¸æ²¡æœ‰é…ç½®çš„tmuxä¸åŒï¼Œä½†æ˜¯æ€»ä½“æ¥è¯´ç›´æ¥mançœ‹ä¸€ä¸‹ç”¨æ³•å°±è¡Œã€‚è¿™é‡Œé˜²æ­¢æˆ‘ä»¥åå¤±å¿†æˆ–è€…è€äº†ï¼Œè¿manéƒ½ç”¨ä¸æ¥æ‰€ä»¥è®°å½•ä¸€ä¸‹ã€‚

prefix = ctrl + a

| å¿«æ·é”®       | ä½œç”¨                                                                  |
| :---:        | :---:                                                                 |
| `<prefix>` _ | æ¨ªå‘æ‰“å¼€ä¸€ä¸ªå­çª—å£                                                    |
| `<prefix>` - | çºµå‘æ‰“å¼€ä¸€ä¸ªå­çª—å£                                                    |
| `<prefix>` , | é‡å‘½åå½“å‰çª—å£                                                        |
| `<prefix>` s | ä»¥äº¤äº’æ–¹å¼ä¸ºè¿æ¥çš„å®¢æˆ·ç«¯é€‰æ‹©æ–°ä¼šè¯                                    |
| `<prefix>` h | ç§»åŠ¨å…‰æ ‡åˆ°å·¦è¾¹çš„çª—å£                                                  |
| `<prefix>` j | ç§»åŠ¨å…‰æ ‡åˆ°ä¸‹è¾¹çš„çª—å£                                                  |
| `<prefix>` k | ç§»åŠ¨å…‰æ ‡åˆ°ä¸Šè¾¹çš„çª—å£                                                  |
| `<prefix>` l | ç§»åŠ¨å…‰æ ‡åˆ°å³è¾¹çš„çª—å£                                                  |
| `<prefix>` c | åˆ›å»ºæ–°çš„çª—å£                                                          |
| `<prefix>` & | å…³é—­å½“å‰çª—å£                                                          |
| `<prefix>` [ | è¿›å…¥æ»šåŠ¨æ¨¡å¼ï¼Œä¹‹åå¯ä»¥ä½¿ç”¨vim likeçš„ç¿»é¡µæˆ–è€…ç§»åŠ¨æ–¹å¼æ¯”å¦‚Ctrl+f, j,kç­‰ |
| `<prefix>` : | è¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œå¯ä»¥è¾“å…¥tmuxå‘½ä»¤å›è½¦æ‰§è¡Œegï¼škill-serverç›´æ¥é€€å‡º ğŸ˜…      |
| `<prefix>` F | æ‰“å¼€fzfé¢æ¿                                                           |
| `<prefix>` I | é‡æ–°åŠ è½½é…ç½®                                                          |
| `<prefix>` > | å°†å½“å‰paneäº¤æ¢åˆ°å³è¾¹                                                  |
| `<prefix>` < | å°†å½“å‰paneäº¤æ¢åˆ°å·¦è¾¹                                                  |
| `<prefix>` + | å°†å½“å‰paneæœ€å¤§åŒ–                                                      |

è¿˜æœ‰å¾ˆå¤šï¼Œå…·ä½“å°±manä¸€ä¸‹å°±çŸ¥é“äº†ã€‚
åœ¨é€‰æ‹©çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨æŒ‰ä¸‹ `l` å±•å¼€å¯ä»¥é€‰æ‹©çš„çª—å£

![](./images/tmux1.png)

## GRUB hidden

æœ‰æ—¶å€™å¯èƒ½ä½¿ç”¨grubå¯åŠ¨ç³»ç»Ÿï¼Œèœå•ä¼šä¸ç°å®(è™šæ‹Ÿæœºä¸Šå¯èƒ½ä¼š)ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥ç›´æ¥ä¿®æ”¹ `/etc/default/grub` æ–‡ä»¶ï¼Œå°† `GRUB_TIMEOUT_STYLE=hidden` æ”¹ä¸º `GRUB_TIMEOUT_STYLE=menu`ï¼Œå½“ç„¶ï¼Œ`GRUB_TIMEOUT=5` ä¹Ÿå¯ä»¥è®¾ç½®èœå•æ˜¾ç¤ºè‡ªåŠ¨é€‰æ‹©çš„æ—¶é—´ä¸º5sã€‚

æ”¹å®Œä¹‹åè®°å¾— `sudo update-grub`

---
**ä¸€äº›æ€•å¿˜è®°åŠ è¿›æ¥çš„ä»¥å‰çš„ç¬”è®°**

## ArchLinuxï¼Œä½¿ç”¨pacmanåŒ…ç®¡ç†å·¥å…·å¿½ç•¥æŸäº›åŒ…çš„å®‰è£…æˆ–å‡çº§

åœ¨ `/etc/pacman.conf` æ–‡ä»¶ä¸­æœ‰å­—æ®µ `IgnorePkg`ã€‚åœ¨åé¢æ·»åŠ éœ€è¦å¿½ç•¥çš„åŒ…åå³å¯ï¼Œå¤šä¸ªåŒ…ç”¨ç©ºæ ¼éš”å¼€

è¦å¿½ç•¥æŸä¸€ç»„åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ `IgnoreGroup` å­—æ®µï¼Œç”¨æ³•ä¸ `IgnorePkg` ç›¸åŒã€‚

## å®‰è£…TensorRTé‡åˆ°çš„é—®é¢˜

> è¯´å®è¯ï¼Œè¿™ä¸ªè¿˜æ˜¯æ¯”èµ›çš„æ—¶å€™çš„äº‹æƒ…ï¼Œæˆ‘éƒ½ä¸è®°å¾—æœ‰è¿™å›äº‹äº†ã€‚

1. local://TensorRT...æ–‡ä»¶æ‰¾ä¸åˆ°
    é¦–å…ˆè®°å¾—çœ‹comment,åœ¨pinnedçš„commentä¸Šæ˜æ˜¾æŒ‡å‡ºï¼Œè¦è‡ªè¡Œä¸‹è½½TensorRTçš„tar.gzåŒ…æ”¾åœ¨è¿™ä¸ªè‡ªå·±cloneä¸‹æ¥çš„tensorrtç›®å½•ä¸‹ï¼Œè¿™æ ·å°±è¡Œäº†
1. é¦–å…ˆå› ä¸ºåœ¨Anacondaç¯å¢ƒä¸‹CmakeListæ‰¾ä¸åˆ°pyconfig.hæ–‡ä»¶
    è§£å†³æ–¹æ¡ˆ: å› ä¸ºæ˜¯éœ€è¦libnvinfer.so,æ‰€ä»¥å…ˆè®©Anacondaç¯å¢ƒå¤±æ•ˆï¼Œæ³¨é‡Šæ‰.zshrcä¸­Anacondaç›¸å…³ï¼Œå†é‡å¯ç»ˆç«¯
2. Python.hå¤´æ–‡ä»¶æ‰¾ä¸åˆ°
    å› ä¸ºé»˜è®¤Linuxä¸Šå¤´æ–‡ä»¶æœç´¢è·¯å¾„ä¸º`/usr/include` å’Œ `/usr/local/include`, æ‰€ä»¥éœ€è¦æ·»åŠ æœç´¢è·¯å¾„, å½“ç„¶ä¸€èˆ¬å¯ä»¥åœ¨ç¼–è¯‘æ—¶æ·»åŠ  -I å‚æ•° æˆ–è€…ç®€å•ä½¿ç”¨`pkg-config --cflags python3` ä½†æ˜¯æˆ‘
    æ ¹æ®æ­¤ä¿®æ”¹PKGBUILDæ–‡ä»¶ï¼Œæ²¡æœ‰ç”¨å¤„ï¼Œå¯èƒ½æ˜¯ä¿®æ”¹åœ°æ–¹ä¸å¯¹ã€‚ç”±æ­¤å¦ä¸€ç§æ–¹æ³•å°±æ˜¯ï¼Œæ·»åŠ ç¯å¢ƒå˜é‡`C_INCLUDE_PATH`(Cè¯­è¨€includeè·¯å¾„)æˆ–è€…`CPLUS_INCLUDE_PATH`(C++includeè·¯å¾„)
    åŒç†ï¼Œä½¿ç”¨åŠ¨æ€é“¾æ¥åº“ä¹Ÿå¯ä»¥å¦‚æ­¤ï¼Œé»˜è®¤æœç´¢åº“è·¯å¾„ä¸º`/usr/lib`å’Œ`/usr/local/lib` å¯ä»¥åœ¨ç¼–è¯‘æ—¶ä½¿ç”¨ -L æŒ‡å®šåº“è·¯å¾„æˆ–è€…æ·»åŠ ç¯å¢ƒå˜é‡`LIBRARY_PATH`
3. ä½¿ç”¨é»˜è®¤çš„PKGBUILDç¼–è¯‘ç¼“æ…¢
    ä¿®æ”¹makeç›¸å…³æ·»åŠ -jé€‰é¡¹ï¼Œjåè·Ÿæ•°å­—(ä¸€èˆ¬ä¸ºcpuæ ¸æ•°)æ¥æå‡ç¼–è¯‘é€Ÿåº¦ eg: `make -j$(nproc)`ã€‚nprocå‘½ä»¤è·å–å¯ä½¿ç”¨çš„æ ¸æ•°é‡ã€‚


## Linuxæ—¶é—´åŒæ­¥ç¬”è®°
åŒæ­¥æ—¶é—´ä½¿ç”¨ntpæ¥å®ç°
æ­¥éª¤ï¼š

1. å®‰è£…ntpè½¯ä»¶
```bash
# è¿™æ˜¯åœ¨Arch Linuxä¸Šå®‰è£…ä½¿ç”¨pacman,å…¶ä»–å‘è¡Œç‰ˆä¹Ÿå¤§å·®ä¸å·®
sudo pacman -S ntp
```
2. å¯åŠ¨ntpdæœåŠ¡ï¼ŒæŸ¥çœ‹ä¸Šæ¸¸æ—¶é—´æœåŠ¡å™¨åœ°å€ï¼Œä»¥åŠä¸å½“å‰æ—¶é—´çš„offset
```bash
# æœ¬æœºä½¿ç”¨çš„æ˜¯systemdçš„systemctlå¯åŠ¨æœåŠ¡
systemctl start ntpd.service
# å¯åŠ¨æœåŠ¡ä¹‹åï¼ŒæŸ¥çœ‹ä¸Šæ¸¸æ—¶é—´æœåŠ¡å™¨åœ°å€
ntpq -p
# ä»¥ä¸‹ä¸ºå‘½ä»¤è¾“å‡ºç»“æœ
     remote           refid      st t when poll reach   delay   offset  jitter
==============================================================================
 time.neu.edu.cn .PTP.            1 u   10   64    1   48.798  -287971   0.000
 ntp6.flashdance .INIT.          16 u    -   64    0    0.000   +0.000   0.000
 tock.ntp.infoma .GPS.            1 u    9   64    1  228.974  -287971   0.000
 ntp5.flashdance 194.58.202.20    2 u    6   64    1  385.518  -287972   0.000
# æ­¤æ—¶å…³é—­ntpæœåŠ¡ï¼Œä¸ºåé¢ntpdateä½¿ç”¨,é‡Šæ”¾å ç”¨çš„ç«¯å£
systemctl stop ntpd.service
# è·Ÿæ–°æ—¶é—´(é€šè¿‡ä¸Šé¢é€‰æ‹©å»¶è¿Ÿè¾ƒå°çš„æœåŠ¡å™¨æ¥åŒæ­¥æ—¶é—´)
sudo ntpdate time.neu.edu.cn
```
å…¶å®å¦‚æœçŸ¥é“æ—¶é—´æœåŠ¡å™¨ï¼Œæ¯”å¦‚è¿™é‡Œçš„, neu(è¿™é‡Œæ˜¯å±±ä¸œå¤§å­¦)ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ `sudo ntpdate æ—¶é—´æœåŠ¡å™¨` ä¸éœ€è¦å¯åŠ¨ntpdæœåŠ¡ã€‚

## ä½¿ç”¨å‘½ä»¤è¡Œæ¥ä½¿ç”¨ä¸åŒtty

```bash
# åˆ‡æ¢åˆ°tty3
sudo chvt 3
```

æˆ–è€…ä½¿ç”¨systemdåˆ‡æ¢ä¸åŒçš„target(è¿™ä¸ªä½ æ˜¯çŸ¥é“çš„æˆ‘å°±ä¸è¯´äº†)ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œmulti-user.target ä¼šæ˜ å°„åˆ°runlevel3.target,ä¹Ÿå°±æ˜¯èƒ½å¤Ÿè”ç½‘çš„å¤šç”¨æˆ·æ¨¡å¼ã€‚

```bash
sudo systemctl isolate multi-user.target
```

## æ›´æ–°å†…æ ¸è‡´ä½¿nvidiaæ˜¾å¡æ— æ³•ä½¿ç”¨çš„é—®é¢˜
1. æŸ¥çœ‹nvidiaå½“å‰ä½¿ç”¨çš„é©±åŠ¨
    > å› ä¸ºæˆ‘ä¹‹å‰åšè¿‡gpuçš„è™šæ‹Ÿæœºç©¿é€ï¼Œæ‰€ä»¥é€ æˆæ­¤å¤„å¿˜è®°ä¿®æ”¹`/etc/mkinitcpio.conf`æ–‡ä»¶
    ```bash
    lspci -k | grep -A 2 -E "(VGA|3D)"
    ```
    æˆ‘çš„ç»“æœä¸ºvfio-pci
2. ç¼–è¾‘`/etc/mkinitcpio.conf`æ–‡ä»¶
    å¦‚æœ`MODULES=()`çš„å°æ‹¬å·å†…æœ‰vfio-pciç›¸å…³çš„ï¼Œç›´æ¥æ¸…ç©ºæ‹¬å·, æ­¤å¤„æ˜¯å› ä¸ºåšæ˜¾å¡ç›´è¿æˆ‘è‡ªå·±æ·»åŠ çš„

3. æ­¤å¤„ä½¿ç”¨dkmsæ¥è‡ªåŠ¨ç¼–è¯‘Nvidiaå†…æ ¸æ¨¡å—
    ```bash
    sudo pacman -S nvidia-dkms
    ```
4. æ„å»ºå®Œä¹‹åï¼Œéœ€è¦é‡æ–°æ›´æ–°initramfs
    ```bash
    mkinitcpio -p linux
    ```
5. é˜²æ­¢å¿˜è®°æ›´æ–°initramfs
    è®¾ç½®hook
    ```text
    æ–‡ä»¶å: /etc/pacman.d/hooks/nvidia.hook
    æ–‡ä»¶å†…å®¹:
    [Trigger]
    Operation=Install
    Operation=Upgrade
    Operation=Remove
    Type=Package
    Target=nvidia
    Target=linux
    # Change the linux part above and in the Exec line if a different kernel is used
    
    [Action]
    Description=Update Nvidia module in initcpio
    Depends=mkinitcpio
    When=PostTransaction
    NeedsTargets
    Exec=/bin/sh -c 'while read -r trg; do case $trg in linux) exit 0; esac; done; /usr/bin/mkinitcpio -P'
    ```
6. é‡å¯ç”µè„‘

## vmware workstation æ¨¡å—å®‰è£…é—®é¢˜

å¦‚æœæ˜¯ä¸€äº›æ›´æ–°å¯¼è‡´å‡½æ•°æ‰¾ä¸åˆ°ï¼Œä¹‹ç±»çš„ï¼Œä¼°è®¡å¾—æ›´æ–°æ¨¡å—æºç ã€‚æ‹‰ä¸‹æ¥è¿™ä¸ªä»“åº“https://github.com/mkubecek/vmware-host-modulesã€‚åˆ‡æ¢åˆ°å¯¹åº”ç‰ˆæœ¬åˆ†æ”¯(å¯èƒ½éœ€è¦è¶…å‰è‡ªå·±ä¸€äº›ç‰ˆæœ¬è€Œï¼Œæ¯”å¦‚ç°åœ¨æˆ‘æ˜¯17.0.0 ç”¨çš„å°±æ˜¯17.0.2)ç„¶åæ”¾åˆ°å°†vmmon-onlyä»¥åŠvmnetæ–‡ä»¶å¤¹æ‰“åŒ…æˆtaråŒ…ï¼Œæ”¾åœ¨`/usr/lib/vmware/modules/source`ä¸‹ã€‚

```bash
tar -cf vmmon.tar vmmon-only
tar -cf vmnet.tar vmnet-only
cp -v vmmon.tar vmnet.tar /usr/lib/vmware/modules/source/
vmware-modconfig --console --install-all
```
å¾—6.5.2å†…æ ¸åˆå‡ºé—®é¢˜äº†ï¼Œå¾—ç»™ä¸Šé¢ä¸¤ä¸ªæ¨¡å—æºç æ‰“patchï¼Œæˆ–è€…æ‰‹åŠ¨ä¿®æ”¹ä¸€ä¸‹ï¼Œä¿®æ”¹ä¹Ÿä¸å¤§ã€‚
ä¸‹é¢æ˜¯patchæ–‡ä»¶ä»¥åŠåœ°å€

https://github.com/jeffersonchua/linux-6.5.0/blob/main/patch-17.0.2-6.5.0

```patch
--- vmware/vmmon-only/include/pgtbl.h	2023-06-30 08:04:13.247729900 +0800
+++ vmware/vmmon-only/include/pgtbl.h	2023-06-30 08:05:41.717728599 +0800
@@ -91,7 +91,7 @@
          } else {
             pte_t *pte;
 
-            pte = pte_offset_map(pmd, addr);
+            pte = pte_offset_kernel(pmd, addr);
             if (pte_present(*pte) == 0) {
                pte_unmap(pte);
                return INVALID_MPN;
--- vmware/vmnet-only/bridge.c	2023-06-30 09:13:50.917668443 +0800
+++ vmware/vmnet-only/bridge.c	2023-06-30 09:14:05.747668224 +0800
@@ -44,6 +44,7 @@
 #include <linux/if_arp.h>
 #include <net/tcp.h>
 #include <net/ipv6.h>
+#include <net/gso.h>
 
 #ifdef CONFIG_NET_RADIO
 #   include <linux/wireless.h>
```

7. ç®€å•é…ç½®vscodeçš„cç¼–è¯‘ä¸debugï¼Œæ¯æ¬¡ä¸ç”¨éƒ½ä¼šå¿˜è®°ï¼Œè¿˜æ˜¯è®°å½•ä¸€ä¸‹

**ç¼–è¯‘ä»»åŠ¡**

åœ¨é¡¶éƒ¨èœå•æ å†…æœ‰`Terminal`æŒ‰é’®ï¼Œä¸‹é¢æœ‰`Configure Tasks`ã€‚ç‚¹å‡»ä¹‹åé€‰æ‹©å¯¹åº”ç¼–è¯‘å™¨çš„ä»»åŠ¡ï¼Œè¿™é‡Œç›´é€‰gccï¼Œæ­¤æ—¶vscodeä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª`.vscode`ç›®å½•ï¼Œé‡Œé¢æœ‰ä¸ª`tasks.json`æ–‡ä»¶ã€‚å¦‚æœéœ€è¦åˆ«çš„ä»€ä¹ˆé¢å¤–ç¼–è¯‘å‚æ•°ï¼Œæ¯”å¦‚æ·»åŠ é¢å¤–çš„åº“ï¼Œå¯ä»¥åœ¨`args`æ•°ç»„å†…å®šä¹‰å¥½ã€‚

eg:

```json
{
	"version": "2.0.0",
	"tasks": [
		{
			"type": "cppbuild",
			"label": "buildme",
			"command": "/usr/bin/gcc",
			"args": [
				"-fdiagnostics-color=always",
				"-g",
				"${file}",
				"-o",
				"${fileDirname}/${fileBasenameNoExtension}",
				"`pkg-config --libs --cflags libavutil libavformat libavcodec`"
			],
			"options": {
				"cwd": "${fileDirname}"
			},
			"problemMatcher": [
				"$gcc"
			],
			"group": "build",
			"detail": "ç¼–è¯‘å™¨: /usr/bin/gcc"
		}
	]
}
```

æœ€ååœ¨`Terminal`ä¸‹æœ‰ä¸ª`Run Task` ç‚¹å‡»ä¹‹åï¼Œä¼šæœ‰å¯¹åº”åå­—çš„ä»»åŠ¡ã€‚è¿™é‡Œä»»åŠ¡çš„åå­—æ˜¯jsonæ–‡ä»¶å†…çš„`label`æ ‡ç­¾çš„å­—ç¬¦ä¸²ã€‚

ç‚¹å‡»è¿è¡Œä¹‹åä¾¿ä¼šä½¿ç”¨gccç¼–è¯‘æºæ–‡ä»¶ã€‚å¤šæ–‡ä»¶ç­‰å¯ä»¥ä½¿ç”¨Makefileæˆ–è€…Cmakeç­‰ï¼Œä¹Ÿæ˜¯å‘½ä»¤çš„äº‹ã€‚ä¸è¿‡æ²¡æ€ä¹ˆé…ç½®è¿‡Cmakeï¼Œç”¨åˆ°å†è¯´å§ã€‚

**Debug**

åœ¨å·¦è¾¹å·¥å…·æ ç‚¹å‡»DebugæŒ‰é’®ï¼Œå¯ä»¥åœ¨`.vscode`æ–‡ä»¶å¤¹ä¸‹æ·»åŠ `launch.json`æ–‡ä»¶ã€‚ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡»`Configuring C/C++ debugging` ï¼Œå½“ç„¶åˆ›å»ºç©ºçš„launch.jsonä¹‹åä¹Ÿæœ‰`Add configuration` æŒ‰é’®å¯ä»¥ç‚¹å‡»ã€‚ç‚¹å‡»ä¹‹åé€‰æ‹©`C/C++`(ä½ çœ‹çš„æ‡‚å•Š)

`program`å¯¹åº”çš„å€¼éœ€è¦æ”¹æˆtaskå†…argsç¼–è¯‘å‡ºæ¥çš„å¯æ‰§è¡Œæ–‡ä»¶åã€‚è¿™é‡Œæ˜¯`${fileDirname}/${fileBasenameNoExtension}`ã€‚

æœ€åå¯èƒ½éœ€è¦æ·»åŠ `preLaunchTask`, `miDebuggerPath`, `preLaunchTask`åœ¨debugä¹‹å‰éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œè¿™é‡Œå¡«å†™äº†ä¹‹å‰çš„ç¼–è¯‘ä»»åŠ¡çš„`label`, `miDebuggerPath` åˆ™æ˜¯å¯¹åº”debugger,ä¹Ÿå°±æ˜¯æˆ‘ç”¨çš„gdbäºŒè¿›åˆ¶çš„ä½ç½®,`/usr/bin/gdb`ï¼Œå¯¹äº†è®°å¾—ä¿®æ”¹`request` ç±»å‹ä¸º`launch`

```json
{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "(gdb) Attach",
            "type": "cppdbg",
            "request": "launch",
            "program": "${fileDirname}/${fileBasenameNoExtension}",
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "Set Disassembly Flavor to Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ],
            "preLaunchTask": "buildme",
            "miDebuggerPath": "/usr/bin/gdb"
        }
    ]
}
```

ä¹‹åå¯ä»¥è®¾ç½®æ–­ç‚¹ä»¥åŠç‚¹å‡»è°ƒè¯•ï¼Œåªæ˜¯ç¬¬ä¸€æ¬¡è¦é€‰æ‹©å¯¹åº”è¦è¿è¡Œçš„ä»»åŠ¡ã€‚

ä¸‹é¢æ˜¯ä¸¤ä¸ªæˆ‘åœ¨ç¼–è¯‘ä½¿ç”¨äº†ffmpegç›¸å…³åº“çš„c++ç¨‹åºçš„jsonæ–‡ä»¶ä¾‹å­

`launch.json`
```json

{
    "configurations": [
        {
            "name": "C/C++: gcc debug",
            "type": "cppdbg",
            "request": "launch",
            "program": "${fileDirname}/${fileBasenameNoExtension}",
            "args": [],
            "stopAtEntry": false,
            "cwd": "${fileDirname}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "ä¸º gdb å¯ç”¨æ•´é½æ‰“å°",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "å°†åæ±‡ç¼–é£æ ¼è®¾ç½®ä¸º Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ],
            "preLaunchTask": "C/C++: gcc build",
            "miDebuggerPath": "/usr/bin/gdb"
        }
    ],
    "version": "2.0.0"
}
```

`tasks.json`

```json

{
	"version": "2.0.0",
	"tasks": [
		{
			"type": "cppbuild",
			"label": "C/C++: gcc build",
			"command": "/usr/bin/gcc",
			"args": [
				"-fdiagnostics-color=always",
				"-g",
				"${file}",
				"-o",
				"${fileDirname}/${fileBasenameNoExtension}",
				"`pkg-config --libs --cflags libavutil libavformat libavcodec`"
			],
			"options": {
				"cwd": "${fileDirname}"
			},
			"problemMatcher": [
				"$gcc"
			],
			"group": "build",
			"detail": "ç¼–è¯‘å™¨: /usr/bin/gcc"
		}
	]
}
```

è¿™é‡Œpkg-configå‘½ä»¤è¦æ”¾åœ¨åå¼•å·é‡Œé¢ï¼Œä½œä¸ºå­å‘½ä»¤è¿è¡Œã€‚

## bash, zshåœ¨æ›´æ–°ç³»ç»Ÿä¹‹åï¼Œå‘½ä»¤å‰æ·»åŠ `sudo`å‰ç¼€`<tab>`æ— æ³•è¡¥å…¨çš„é—®é¢˜

å¯¹äºbashçš„è¯ï¼Œç›´æ¥é‡æ–°å®‰è£…`bash-completion`å°±è¡Œ(ç›®å‰æ²¡ææ¸…æ¥šä¸ºä»€ä¹ˆï¼Œä¹Ÿä¸æ˜¯å¾ˆæƒ³ææ¸…æ¥š)

```bash
sudo pacman -S bash-completion
```

ç„¶è€Œå¯¹äºzshï¼Œå®ƒçš„ç›¸å…³æ–‡ä»¶éƒ½åœ¨`/usr/share/zsh/`ä¸‹é¢ï¼ŒåŒ…æ‹¬ä¸€äº›å‘½ä»¤çš„è¡¥å…¨æ–‡ä»¶ï¼Œç›®å‰è¿˜æ²¡ç»“å±€ï¼Œä¹Ÿæ²¡ç»§ç»­ç ”ç©¶ï¼Œåé¢è§£å†³äº†å†æ¥è®°å½•

## bluetooth

å…ˆçœ‹[archwiki](https://wiki.archlinux.org/title/Bluetooth?ref=itsfoss.com)ã€‚æˆ‘å·²ç»å®‰è£…äº†bluezç›¸å…³çš„ä¸œè¥¿ã€‚

å…·ä½“ä½¿ç”¨

1. (optional) Select a default controller with `select MAC_address`.
2. (optional) Enter `power on` to turn the power to the controller on if the device is set to off. It is on by default; see [Default adapter power state](https://wiki.archlinux.org/title/Bluetooth?ref=itsfoss.com#Default_adapter_power_state).
3. Enter `devices` to get the MAC address of the device with which to pair.
4. Enter device discovery mode with `scan on` command if device is not yet on the list.
5. Turn the agent on with `agent on` or choose a specific agent: if you press tab twice after `agent` you should see a list of available agents. A bluetooth agent is what manages the Bluetooth 'pairing code'. It can either respond to a 'pairing code' coming in, or can send one out. The `default-agent` should be appropriate in most cases.[1](https://askubuntu.com/questions/763939/bluetoothctl-what-is-a-bluetooth-agent)
6. Enter `pair MAC_address` to do the pairing (tab completion works).
7. If using a device without a PIN, one may need to manually trust the device before it can reconnect successfully. Enter `trust MAC_address` to do so.
8. Enter `connect MAC_address` to establish a connection.
