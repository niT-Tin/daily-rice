# If you come from bash you might have to change your $PATH.
# export PATH=$HOME/bin:/usr/local/bin:$PATH

# Path to your oh-my-zsh installation.
# è®¾ç½®fpathæœç´¢è·¯å¾„
ZDOTDIR=$HOME/.config/zsh.d
export fpath=($ZDOTDIR/functions $fpath)

export ZSH="$HOME/.oh-my-zsh"

# Set name of the theme to load --- if set to "random", it will
# load a random theme each time oh-my-zsh is loaded, in which case,
# to know which specific one was loaded, run: echo $RANDOM_THEME
# See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes
ZSH_THEME="robbyrussell"

# Set list of themes to pick from when loading at random
# Setting this variable when ZSH_THEME=random will cause zsh to load
# a theme from this variable instead of looking in $ZSH/themes/
# If set to an empty array, this variable will have no effect.
# ZSH_THEME_RANDOM_CANDIDATES=( "robbyrussell" "agnoster" )

# Uncomment the following line to use case-sensitive completion.
# CASE_SENSITIVE="true"

# Uncomment the following line to use hyphen-insensitive completion.
# Case-sensitive completion must be off. _ and - will be interchangeable.
# HYPHEN_INSENSITIVE="true"

# Uncomment one of the following lines to change the auto-update behavior
# zstyle ':omz:update' mode disabled  # disable automatic updates
# zstyle ':omz:update' mode auto      # update automatically without asking
# zstyle ':omz:update' mode reminder  # just remind me to update when it's time

# Uncomment the following line to change how often to auto-update (in days).
# zstyle ':omz:update' frequency 13

# Uncomment the following line if pasting URLs and other text is messed up.
# DISABLE_MAGIC_FUNCTIONS="true"

# Uncomment the following line to disable colors in ls.
# DISABLE_LS_COLORS="true"

# Uncomment the following line to disable auto-setting terminal title.
# DISABLE_AUTO_TITLE="true"

# Uncomment the following line to enable command auto-correction.
# ENABLE_CORRECTION="true"

# Uncomment the following line to display red dots whilst waiting for completion.
# You can also set it to another string to have that shown instead of the default red dots.
# e.g. COMPLETION_WAITING_DOTS="%F{yellow}waiting...%f"
# Caution: this setting can cause issues with multiline prompts in zsh < 5.7.1 (see #5765)
# COMPLETION_WAITING_DOTS="true"

# Uncomment the following line if you want to disable marking untracked files
# under VCS as dirty. This makes repository status check for large repositories
# much, much faster.
# DISABLE_UNTRACKED_FILES_DIRTY="true"

# Uncomment the following line if you want to change the command execution time
# stamp shown in the history command output.
# You can set one of the optional three formats:
# "mm/dd/yyyy"|"dd.mm.yyyy"|"yyyy-mm-dd"
# or set a custom format using the strftime function format specifications,
# see 'man strftime' for details.
# HIST_STAMPS="mm/dd/yyyy"

# Would you like to use another custom folder than $ZSH/custom?
# ZSH_CUSTOM=/path/to/new-custom-folder

# Which plugins would you like to load?
# Standard plugins can be found in $ZSH/plugins/
# Custom plugins may be added to $ZSH_CUSTOM/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(git zsh-autosuggestions fast-syntax-highlighting zsh-fzf-history-search)

source $ZSH/oh-my-zsh.sh
# è®¾ç½®å¯ä»¥åŒ¹é…ç©º
setopt no_nomatch
# plugins
# è‡ªåŠ¨è¡¥å…¨æ‹¬å·ç­‰
if [[ ! -d ~/.zsh-autopair ]]; then
  git clone https://github.com/hlissner/zsh-autopair ~/.zsh-autopair
fi

source ~/.zsh-autopair/autopair.zsh
autopair-init

# æ™ºèƒ½cd
eval "$(/home/liuzehao/.local/bin/zoxide init zsh)"

# User configuration

# export MANPATH="/usr/local/man:$MANPATH"

# You may need to manually set your language environment
# export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
# if [[ -n $SSH_CONNECTION ]]; then
#   export EDITOR='vim'
# else
#   export EDITOR='mvim'
# fi

# Compilation flags
# export ARCHFLAGS="-arch x86_64"

# Set personal aliases, overriding those provided by oh-my-zsh libs,
# plugins, and themes. Aliases can be placed here, though oh-my-zsh
# users are encouraged to define aliases within the ZSH_CUSTOM folder.
# For a full list of active aliases, run `alias`.
#
# Example aliases
# alias zshconfig="mate ~/.zshrc"
# alias ohmyzsh="mate ~/.oh-my-zsh"
# alias ls='exa -al --color=always --group-directories-first --icons --time-style hu' # preferred listing
# alias ls='lsd -l' # preferred listing
# alias la='exa -a --color=always --group-directories-first --icons --time-style hu'  # all files and dirs
# alias ll='exa -l --color=always --group-directories-first --icons --time-style hu'  # long format
alias lt='lsd -F -l --tree' # tree listing
alias l.="lsd -a | egrep '^\.'"                                     # show only dotfiles
alias cat='bat --style header --style snip --style changes --style header'
alias l=~/.local/bin/lvim
alias icat="kitty +kitten icat"
# alias n="/usr/local/bin/nvim"
alias :q=exit
alias ip='ip --color=auto'

# PATH VARIABLES
#export MANPAGER="sh -c 'col -bx | bat -l man -p'"
# C_INCLUDE_PATH=/opt/cuda/include
# CPLUS_INCLUDE_PATH=/opt/cuda/include
# export ANDROID_HOME=/home/liuzehao/Android

export ANDROID_HOME=$HOME/Android/Sdk
export NDK_HOME=$ANDROID_HOME/ndk/25.2.9519653
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/platform-tools 

export PATH=$ANDROID_HOME:$PATH
export PATH=/home/liuzehao/go/bin:$PATH
# JAVA_HOME=/home/liuzehao/applications/jdks/jdk1.8.0_361
JAVA_HOME=/home/liuzehao/applications/jdks/jdk-11.0.18
# JAVA_HOME=/home/liuzehao/applications/jdks/jdk-17.0.6
# JAVA_HOME=/home/liuzehao/applications/jdks/jdk-19.0.2
# JAVA_HOME=/home/liuzehao/applications/jdks/graalvm-ce-java17-22.3.2
export PATH=$JAVA_HOME/bin:$PATH
export PF_INFO="ascii title shell kernel uptime pkgs memory"
export PF_ASCII="Endeavour"
export PF_SEP="ïŒƒ : -> "
export GOROOT=$HOME/applications/go

# bob çš„neovimç‰ˆæœ¬ç®¡ç†ï¼Œbinè·¯å¾„
export PATH=$HOME/.local/share/bob/nvim-bin:$PATH
# export GOROOT=$HOME/source/golang/go_1.20.5

user_paths=$HOME/bin:$HOME/.local/share/lvim/mason/bin/:$HOME/.config/bspwm/scripts:$HOME/applications/flutter/bin:$HOME/applications/dart-sdk/bin:$HOME/.emacs.d/bin:$HOME/.local/bin:$PATH:$HOME/.cargo/bin:$HOME/source/llvm-root/build/bin:$GOROOT/bin:$HOME/anaconda3/bin:$HOME/applications/apache-maven-3.9.4/bin:$HOME/applications/fvm
sys_paths=/usr/share/bcc/tools
# old version user_paths=$HOME/bin:$HOME/.local/share/lvim/mason/bin/:$HOME/.config/bspwm/scripts:$HOME/applications/flutter/bin:$HOME/applications/dart-sdk/bin:$HOME/.emacs.d/bin:$HOME/.local/bin:$PATH:$HOME/.cargo/bin:$HOME/source/llvm-root/build/bin:$GOROOT/bin:$HOME/anaconda3/bin:$HOME/applications/apache-maven-3.9.4/bin:$HOME/applications/fvm
export PATH=$user_paths:$sys_paths:$PATH
# export EDITOR=vim
export EDITOR=/home/liuzehao/.local/bin/lvim

export EXA_COLORS="di=1;35:da=1;36;01"
# ç”¨äºä¸ä½¿ç”¨lvim,å¯ä»¥ç›´æ¥ä½¿ç”¨neovimèµ·åˆ°åŒæ ·ä½¿ç”¨lunarvimçš„æ•ˆæœï¼Œ
# ä¸»è¦æ˜¯æƒ³ç”¨ç”¨neovide
#export LUNARVIM_RUNTIME_DIR="${LUNARVIM_RUNTIME_DIR:-"/home/liuzehao/.local/share/lunarvim"}"
#export LUNARVIM_CONFIG_DIR="${LUNARVIM_CONFIG_DIR:-"/home/liuzehao/.config/lvim"}"
#export LUNARVIM_CACHE_DIR="${LUNARVIM_CACHE_DIR:-"/home/liuzehao/.cache/lvim"}"
#
#export LUNARVIM_BASE_DIR="${LUNARVIM_BASE_DIR:-"/home/liuzehao/.local/share/lunarvim/lvim"}"
# alias n="nvim -u $LUNARVIM_BASE_DIR/init.lua"
# alias nvim="nvim -u $LUNARVIM_BASE_DIR/init.lua"
# >>> conda initialize >>>
# !! Contents within this block are managed by 'conda init' !!
# __conda_setup="$('/home/liuzehao/anaconda3/bin/conda' 'shell.zsh' 'hook' 2> /dev/null)"
# if [ $? -eq 0 ]; then
#     eval "$__conda_setup"
# else
#     if [ -f "/home/liuzehao/anaconda3/etc/profile.d/conda.sh" ]; then
#         . "/home/liuzehao/anaconda3/etc/profile.d/conda.sh"
#     else
#         export PATH="/home/liuzehao/anaconda3/bin:$PATH"
#     fi
# fi
# unset __conda_setup
# <<< conda initialize <<<
# eval "$($HOME/.cargo/bin/starship init zsh)"
eval "$(/usr/local/bin/starship init zsh)"
# Command
# $HOME/scripts/pfetch
# neofetch --jp2a ~/.config/neofetch/image/zhiyin.png --colors 4 2 2 4 7 6
# neofetch --kitty ~/.config/neofetch/image/dianji.jpg --colors 4 2 2 4 7 6
# neofetch --jp2a ~/.config/neofetch/image/batmanb.png --colors 4 2 2 4 7 6
# $HOME/.config/i3/misc/asciiart/zhiyin
# ç¨å¾®ä¿®æ”¹äº†ä¸‹neofetchæºç ï¼Œå¢åŠ äº†--lines2ï¼Œç”¨äºä¸è¦å¤šä½™çš„ç©ºè¡Œï¼Œä½†æ˜¯åªæ˜¯å¯¹äºå›¾åƒè¡Œæ•°å¤§äºinfoè¡Œæ•°çš„æƒ…å†µ
~/.config/i3/misc/asciiart/neofetch --config ~/.config/neofetch/config_small_V2.conf  --backend kitty --source ~/.config/neofetch/image/headcircle.png  --image_size none --lines2 1 --xoffset 1
# $HOME/.config/i3/misc/asciiart/batman

# ä½¿ç”¨Ctrl+q åœ¨å‘½ä»¤è¡Œä¹‹å‰æ·»åŠ sudo
function prepend-sudo ()
{
  if [[ $BUFFER != "sudo "* ]]
  then
    BUFFER="sudo $BUFFER"; CURSOR+=5
  fi
}
zle -N prepend-sudo
bindkey '^q' prepend-sudo
# è¿™ä¸ªå¿«æ·é”®è²Œä¼¼ä¼šè®©emacsçš„vtermå›è½¦å¤±æ•ˆ
# bindkey '^j' autosuggest-accept

# åŠ è½½ fshow(ä½¿ç”¨fzf,gitæ¥æŸ¥çœ‹gitè®°å½•)
autoload -U fshow
# åŠ è½½ mans(äº¤äº’å¼mané¡µé¢)
autoload -U mans
# nvimå¤šç¯å¢ƒåˆ‡æ¢
autoload -U nvims
# åŠ è½½è‡ªå®šä¹‰ls
unalias ls
autoload -U ls
# è¿›å…¥ç›®å½•ä¹‹åè‡ªåŠ¨æ‰§è¡Œls
# æ¨¡æ‹Ÿzshä¸‹æ‰§è¡Œls
do-ls() { emulate -L zsh; clear;ls; }
add-zsh-hook chpwd do-ls

# ğŸ¤ï¼Œçƒ¦æ­»äº†å…³æ‰å£°éŸ³
unsetopt beep

# æœ‰è¶£çš„å‡½æ•°
# æ€æ¡Œå­
flip() { echo -n "ï¼ˆâ•¯Â°â–¡Â°ï¼‰â•¯ â”»â”â”»" |tee /dev/tty| xclip -selection clipboard; }
# å¤±æœ›
disappointed() { echo -n " à² _à²  " |tee /dev/tty| xclip -selection clipboard; }
# ä½¿ç”¨cdæ—¶è‡ªåŠ¨æœç´¢è¿™äº›ç›®å½•
export cdpath=(. ~ ~/playground)
# export MOZ_ENABLE_WAYLAND=1
# pyenvè®°å¾—å…ˆå®‰è£…pyenvï¼Œåº”è¯¥å§
export PYENV_ROOT="$HOME/.pyenv"
command -v pyenv >/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"
export VCPKG_ROOT=/opt/vcpkg
export VCPKG_DOWNLOADS=/var/cache/vcpkg
export TERM=xterm-256color
# ZSH_HIGHLIGHT_SYTLES[unknown-token]=underline
# å› ä¸ºå®‰è£…çš„è¯­æ³•é«˜äº®æ˜¯fast-syntax-highlighting æ‰€ä»¥ä½¿ç”¨çš„æ˜¯FAST_HIGHLIGHT_STYLES
# å…·ä½“å¯ç”¨é€‰é¡¹å‚è€ƒ https://github.com/zdharma-continuum/fast-syntax-highlighting/blob/master/fast-highlight
FAST_HIGHLIGHT_STYLES[unknown-token]=fg=red,bold,underline

#export NVM_DIR="$HOME/.nvm"
#[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
#[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion

PATH="/home/liuzehao/perl5/bin${PATH:+:${PATH}}"; export PATH;
PERL5LIB="/home/liuzehao/perl5/lib/perl5${PERL5LIB:+:${PERL5LIB}}"; export PERL5LIB;
PERL_LOCAL_LIB_ROOT="/home/liuzehao/perl5${PERL_LOCAL_LIB_ROOT:+:${PERL_LOCAL_LIB_ROOT}}"; export PERL_LOCAL_LIB_ROOT;
PERL_MB_OPT="--install_base \"/home/liuzehao/perl5\""; export PERL_MB_OPT;
PERL_MM_OPT="INSTALL_BASE=/home/liuzehao/perl5"; export PERL_MM_OPT;

# è®¾ç½®LS_COLORSå˜é‡ï¼Œå¯ä»¥ä½¿ç”¨vividå‘½ä»¤https://github.com/sharkdp/vivid
# eg: LS_COLORS=$(vivid generate molokai)
# è¿™é‡Œç›´æ¥ä½¿ç”¨ç”Ÿæˆç»“æœï¼Œæ²¡æœ‰è°ƒç”¨å‘½ä»¤
export LS_COLORS=$(vivid generate catppuccin-frappe)

# export MANPATH=/usr/local/texlive/2023/texmf-dist/doc/man:$MANPATH
# export INFOPATH=/usr/local/texlive/2023/texmf-dist/doc/info:$INFOPATH
# export PATH=$PATH:/usr/local/texlive/2023/bin/x86_64-linux
export MAVEN_HOME=/home/liuzehao/applications/apache-maven-3.9.4
